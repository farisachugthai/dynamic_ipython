
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Sphinx Directive Options &#8212; Dynamic IPython: version0.0.2</title>
    <link rel="stylesheet" href="_static/pyramid.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/copybutton.js"></script>
    <link rel="canonical" href="https://farisachugthai.github.io/dynamic-ipython/sphinx_options.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Developer’s Notes" href="dev.html" />
    <link rel="prev" title="Sphinx API docs" href="sphinx_api_docs.html" />

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Code+Pro" type="text/css"
  media="screen" charset="utf-8" />

<link rel="stylesheet"
  href="https://fonts.googleapis.com/css?family=Source+Code+Pro:regular,italic,bold,bolditalic" type="text/css" media="screen" charset="utf-8" />

<!--[if lte IE 6]>
<link rel="stylesheet" href="_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->


  </head><body>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="dev.html" title="Developer’s Notes"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="sphinx_api_docs.html" title="Sphinx API docs"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Dynamic IPython</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="sphinx-directive-options">
<h1>Sphinx Directive Options<a class="headerlink" href="#sphinx-directive-options" title="Permalink to this headline">¶</a></h1>
<p>The IPython directive is a stateful shell that can be used in reStructured
text files.</p>
<p>The Sphinx documentation project, for those who are unfamiliar, can be used
to automatically extract docstrings from valid python code and
generate HTML.</p>
<p>The IPython directive builds on the functionality that Sphinx
provides. This allows a user to, for example, copy and paste an
interactive session in an .rst document that can be useful for parsing
and validating IPython code, auto-generating documentation based on the
docstrings in source code, and embedding plots based on live data in
Sphinx documents.</p>
<p>Specifically, the IPython Sphinx extension correctly parses standard
IPython prompts, and extracts the input and output lines to generate HTML.</p>
<div class="section" id="directive-and-options">
<h2>Directive and options<a class="headerlink" href="#directive-and-options" title="Permalink to this headline">¶</a></h2>
<dl class="directive">
<dt id="directive-ipython">
<code class="sig-name descname">.. ipython::</code><a class="headerlink" href="#directive-ipython" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an IPython directive.</p>
<dl class="directive:option">
<dt id="directive:option-ipython-doctest">
<code class="sig-name descname">:doctest:</code><em class="property"> Run a doctest on IPython code blocks in rst.</em><a class="headerlink" href="#directive:option-ipython-doctest" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="directive:option">
<dt id="directive:option-ipython-python">
<code class="sig-name descname">:python:</code><em class="property"> Used to indicate that the relevant code block does not have IPython prompts.</em><a class="headerlink" href="#directive:option-ipython-python" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="directive:option">
<dt id="directive:option-ipython-okexcept">
<code class="sig-name descname">:okexcept:</code><em class="property"> Allow the code block to raise an exception.</em><a class="headerlink" href="#directive:option-ipython-okexcept" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="directive:option">
<dt id="directive:option-ipython-okwarning">
<code class="sig-name descname">:okwarning:</code><em class="property"> Allow the code block to emit an warning.</em><a class="headerlink" href="#directive:option-ipython-okwarning" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="directive:option">
<dt id="directive:option-ipython-suppress">
<code class="sig-name descname">:suppress:</code><em class="property"> Silence any warnings or expected errors.</em><a class="headerlink" href="#directive:option-ipython-suppress" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="directive:option">
<dt id="directive:option-ipython-verbatim">
<code class="sig-name descname">:verbatim:</code><em class="property"> A noop that allows for any text to be syntax highlighted as valid IPython code.</em><a class="headerlink" href="#directive:option-ipython-verbatim" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="directive:option">
<dt id="directive:option-ipython-savefig">
<code class="sig-name descname">:savefig:</code><em class="property"> Save output from matplotlib to *outfile*.</em><a class="headerlink" href="#directive:option-ipython-savefig" title="Permalink to this definition">¶</a></dt>
<dt id="directive:option-ipython-OUTFILE [IMAGE_OPTIONS]">
<code class="sig-name descname">:OUTFILE [IMAGE_OPTIONS]:</code><a class="headerlink" href="#directive:option-ipython-OUTFILE [IMAGE_OPTIONS]" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<p>One may find it useful to reference the relevant documentation from the
<a class="reference internal" href="#sphinx" id="id1"><span>[Sphinx]</span></a>  project and Docutils.</p>
<dl class="citation">
<dt class="label" id="sphinx"><span class="brackets"><a class="fn-backref" href="#id1">Sphinx</a></span></dt>
<dd><p><a class="reference external" href="http://www.sphinx-doc.org/en/master/usage/restructuredtext/domains.html#the-restructuredtext-domain">http://www.sphinx-doc.org/en/master/usage/restructuredtext/domains.html#the-restructuredtext-domain</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="http://www.sphinx-doc.org/en/master/">The Sphinx documentation project</a> has phenomenal documentation and provides a good reference when working with rst files.</p>
<p>In addition the source for each page of the documentation
is easily obtainable from the “Show Source” button.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#image">Image Options for rst directives from docutils</a> for details.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#configuration-values"><span class="std std-ref">Configuration Values</span></a></p>
<p>Check towards the bottom of this document to view all IPython configuration options.</p>
</div>
</div>
<div class="section" id="configuring-the-build-environment">
<h2>Configuring the Build Environment<a class="headerlink" href="#configuring-the-build-environment" title="Permalink to this headline">¶</a></h2>
<p>I want to put this in the docstrings of those functions with the <code class="xref py py-obj docutils literal notranslate"><span class="pre">env</span></code>
parameter that kept tripping me up. (ref)</p>
<dl class="glossary simple">
<dt id="term-environment">environment</dt><dd><p>A structure where information about all documents under the root is saved,
and used for cross-referencing.  The environment is pickled after the
parsing stage, so that successive runs only need to read and parse new and
changed documents.</p>
</dd>
</dl>
</div>
<div class="section" id="supported-pseudo-decorators">
<h2>Supported Pseudo-Decorators<a class="headerlink" href="#supported-pseudo-decorators" title="Permalink to this headline">¶</a></h2>
<p>Here are the supported decorators, and any optional arguments they
take.  Some of the decorators can be used as options to the entire
block (e.g. <code class="xref py py-obj docutils literal notranslate"><span class="pre">&#64;verbatim</span></code> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">&#64;suppress</span></code>), and some only apply to the
line just below them (eg <code class="xref py py-obj docutils literal notranslate"><span class="pre">&#64;savefig</span></code>).:</p>
<div class="section" id="decorators-glossary">
<span id="pseudo-decorators"></span><h3>Decorators Glossary<a class="headerlink" href="#decorators-glossary" title="Permalink to this headline">¶</a></h3>
<dl class="glossary simple">
<dt id="term-suppress">&#64;suppress</dt><dd><p>Execute the IPython input block, but <em class="dfn">&#64;suppress</em> the input and output
block from the rendered output.  Also, can be applied to the entire
<code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">ipython</span></code> block as a directive option with <code class="docutils literal notranslate"><span class="pre">:suppress:</span></code>.</p>
</dd>
<dt id="term-verbatim">&#64;verbatim</dt><dd><p>Insert the input and output block in <em class="dfn">&#64;verbatim</em>, but auto-increment
the line numbers. Internally, the interpreter will be fed an empty
string, so it is a no-op that keeps line numbering consistent.
Also, can be applied to the entire <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">ipython</span></code> block as a
directive option with <code class="docutils literal notranslate"><span class="pre">:verbatim:</span></code>.</p>
</dd>
<dt id="term-savefig">&#64;savefig</dt><dd><p>Save the target of the directive to <em class="dfn">outfile</em>.
<em>I think I’m just gonna rewrite this entire paragraph.</em>
Save the figure to the static directory and insert it into the
document, possibly binding it into a mini-page and/or putting
code/figure label/references to associate the code and the figure.
Takes args to pass to the image directive (<em>scale</em>,
<em>width</em>, etc can be <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code>)</p>
</dd>
<dt id="term-doctest">&#64;doctest</dt><dd><p>Compare the pasted in output in the IPython block with the output
generated at doc build time, and raise errors if they don’t
match. Also, can be applied to the entire <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">ipython</span></code> block as a
directive option with <code class="docutils literal notranslate"><span class="pre">:doctest:</span></code>.</p>
</dd>
<dt id="term-0">&#64;suppress</dt><dd><p>execute the ipython input block, but suppress the input and output
block from the rendered output.  Also, can be applied to the entire
<code class="docutils literal notranslate"><span class="pre">..ipython</span></code> block as a directive option with <code class="docutils literal notranslate"><span class="pre">:suppress:</span></code>.</p>
</dd>
<dt id="term-okexcept">&#64;okexcept</dt><dd><p>Actually is this a decorator?</p>
</dd>
<dt id="term-okwarning">&#64;okwarning</dt><dd><p>What about this one?</p>
</dd>
<dt id="term-python">&#64;python</dt><dd><p>This can’t be.</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="configuration-values">
<span id="id3"></span><h2>Configuration Values<a class="headerlink" href="#configuration-values" title="Permalink to this headline">¶</a></h2>
<p>The configurable options that can be placed in conf.py are:</p>
<dl class="confval">
<dt id="confval-ipython_savefig_dir">
<code class="sig-name descname">ipython_savefig_dir</code><a class="headerlink" href="#confval-ipython_savefig_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>The directory in which to save the figures. This is
relative to the
Sphinx source directory. The default is <code class="xref py py-obj docutils literal notranslate"><span class="pre">html_static_path</span></code>.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-ipython_rgxin">
<code class="sig-name descname">ipython_rgxin</code><a class="headerlink" href="#confval-ipython_rgxin" title="Permalink to this definition">¶</a></dt>
<dd><p>The compiled regular expression to denote the start of
IPython input lines.
The default is <code class="xref py py-obj docutils literal notranslate"><span class="pre">re.compile('In</span> <span class="pre">\[(\d+)\]:\s?(.*)\s*')</span></code>.
You shouldn’t need to change this.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-ipython_warning_is_error:[defaulttoTrue]">
<code class="sig-name descname">ipython_warning_is_error: [default to True]</code><a class="headerlink" href="#confval-ipython_warning_is_error:[defaulttoTrue]" title="Permalink to this definition">¶</a></dt>
<dd><p>Fail the build if something unexpected happen, for example
if a block raise an exception but does not have the
<code class="xref py py-obj docutils literal notranslate"><span class="pre">:okexcept:</span></code> flag. The exact behavior of
what is considered strict, may change between the sphinx
directive version.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-ipython_rgxout">
<code class="sig-name descname">ipython_rgxout</code><a class="headerlink" href="#confval-ipython_rgxout" title="Permalink to this definition">¶</a></dt>
<dd><p>The compiled regular expression to denote the start of
IPython output lines. The default is
<code class="xref py py-obj docutils literal notranslate"><span class="pre">re.compile('Out\[(\d+)\]:\s?(.*)\s*')</span></code>.
You shouldn’t need to change this.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-ipython_promptin">
<code class="sig-name descname">ipython_promptin</code><a class="headerlink" href="#confval-ipython_promptin" title="Permalink to this definition">¶</a></dt>
<dd><p>The string to represent the IPython input prompt in the generated ReST.
The default is <code class="docutils literal notranslate"><span class="pre">'In</span> <span class="pre">[%d]:'</span></code>. This expects that the line
numbers are used in the prompt.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-ipython_promptout">
<code class="sig-name descname">ipython_promptout</code><a class="headerlink" href="#confval-ipython_promptout" title="Permalink to this definition">¶</a></dt>
<dd><p>The string to represent the IPython prompt in the generated ReST. The
default is <code class="docutils literal notranslate"><span class="pre">'Out</span> <span class="pre">[%d]:'</span></code>. This expects that the line numbers are used
in the prompt.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-ipython_mplbackend">
<code class="sig-name descname">ipython_mplbackend</code><a class="headerlink" href="#confval-ipython_mplbackend" title="Permalink to this definition">¶</a></dt>
<dd><p>The string which specifies if the embedded Sphinx shell should import
Matplotlib and set the backend. The value specifies a backend that is
passed to <code class="xref py py-obj docutils literal notranslate"><span class="pre">matplotlib.use()</span></code> before any lines in <code class="xref py py-obj docutils literal notranslate"><span class="pre">ipython_execlines</span></code> are
executed. If not specified in conf.py, then the default value of ‘agg’ is
used. To use the IPython directive without matplotlib as a dependency, set
the value to <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>. It may end up that matplotlib is still imported
if the user specifies so in <code class="xref py py-obj docutils literal notranslate"><span class="pre">ipython_execlines</span></code> or makes use of the
<code class="xref py py-obj docutils literal notranslate"><span class="pre">&#64;savefig</span></code> pseudo decorator.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-ipython_execlines">
<code class="sig-name descname">ipython_execlines</code><a class="headerlink" href="#confval-ipython_execlines" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of strings to be exec’d in the embedded Sphinx shell. Typical
usage is to make certain packages always available. Set this to an empty
list if you wish to have no imports always available. If specified in
<code class="docutils literal notranslate"><span class="pre">conf.py</span></code> as <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>, then it has the effect of making no imports available.</p>
<dl class="simple">
<dt>If omitted from conf.py altogether, then the default value of:</dt><dd><p>[‘import numpy as np’, ‘import matplotlib.pyplot as plt’]</p>
</dd>
</dl>
<p>is used.</p>
</dd></dl>

<dl class="confval">
<dt id="confval-ipython_holdcount">
<code class="sig-name descname">ipython_holdcount</code><a class="headerlink" href="#confval-ipython_holdcount" title="Permalink to this definition">¶</a></dt>
<dd><p>When the <code class="xref py py-obj docutils literal notranslate"><span class="pre">&#64;suppress</span></code> pseudo-decorator is used, the execution count can be
incremented or not. The default behavior is to hold the execution count,
corresponding to a value of <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a>. Set this to <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a> to increment
the execution count after each suppressed command.</p>
</dd></dl>

<p>As an example, to use the IPython directive when <code class="xref py py-obj docutils literal notranslate"><span class="pre">matplotlib</span></code> is not available,
one sets the backend to <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>:</p>
<blockquote>
<div><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">ipython_mplbackend</span></code> = <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></p>
</div></blockquote>
<p>To view the API documentation, continue reading at <code class="xref py py-obj docutils literal notranslate"><span class="pre">sphinx_ipython_api</span></code>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="sphinx_api_docs.html" title="previous chapter">Sphinx API docs</a></li>
      <li>Next: <a href="dev.html" title="next chapter">Developer’s Notes</a></li>
  </ul></li>
</ul>

<h3><a href="index.html">Table of Contents</a></h3>

<div>&nbsp;</div>
<div id="sidebartoc">
<p class="caption"><span class="caption-text">Tutorial</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="ipython_keybindings.html">Keybindings</a></li>
<li class="toctree-l1"><a class="reference internal" href="jobcontrol.html">Job Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="exceptions.html">Customized Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="sphinxext.html">IPython Sphinx Directive</a></li>
<li class="toctree-l1"><a class="reference internal" href="sphinx_api_docs.html">Sphinx API docs</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Sphinx Directive Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev.html">Developers Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="lexer.html">New IPython Console Lexer</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ipython.html">IPython Config</a></li>
<li class="toctree-l1"><a class="reference internal" href="kernel.html">IPython Kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="startup/index.html">IPython Shell Initialization</a></li>
<li class="toctree-l1"><a class="reference internal" href="util/index.html">General Utility Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="jupyter.html">Jupyter Suite</a></li>
<li class="toctree-l1"><a class="reference internal" href="extensions.html">Extensions</a></li>
</ul>



</div>


  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/sphinx_options.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>

<h3><a href="index.html">On This Page:</a></h3>

<div>&nbsp;</div>
<div id="sidebartoc">
  <ul>
<li><a class="reference internal" href="#">Sphinx Directive Options</a><ul>
<li><a class="reference internal" href="#directive-and-options">Directive and options</a></li>
<li><a class="reference internal" href="#configuring-the-build-environment">Configuring the Build Environment</a></li>
<li><a class="reference internal" href="#supported-pseudo-decorators">Supported Pseudo-Decorators</a><ul>
<li><a class="reference internal" href="#decorators-glossary">Decorators Glossary</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuration-values">Configuration Values</a></li>
</ul>
</li>
</ul>

</div>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="dev.html" title="Developer’s Notes"
             >next</a> |</li>
        <li class="right" >
          <a href="sphinx_api_docs.html" title="Sphinx API docs"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Dynamic IPython</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
      Last updated on Sep 30, 2019.
    </div>
  </body>
</html>