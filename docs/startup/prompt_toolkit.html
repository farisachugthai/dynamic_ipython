
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Prompt Toolkit &#8212; Dynamic IPython</title>
    
    <link rel="stylesheet" href="../_static/scrolls.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/print.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/theme_extras.js"></script>
    <link rel="canonical" href="https://farisachugthai.github.io/dynamic-ipython/startup/prompt_toolkit.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="numpy Initialization" href="41_numpy.html" />
    <link rel="prev" title="Setting up readline" href="setup_readline.html" />
<!-- <link charset="utf-8" href="https://fonts.googleapis.com/css?family=Source+Code+Pro" media="screen" rel="stylesheet" type="text/css" /> -->
<!-- <link charset="utf-8" href="https://fonts.googleapis.com/css?family=Source+Code+Pro:regular,italic,bold,bolditalic" media="screen" rel="stylesheet" type="text/css" /> -->
<head>
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <title>Dynamic IPython --- IPython Extensions</title>
  <meta name="description" content="" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style type="text/css">
    /* CSS styles */
    /* Example by Matthias Benkort at http://codepen.io/KtorZ/pen/ZOzdqG */
    @import url(
      https://fonts.googleapis.com/css?family=Roboto:400,
      300,
      500,
      700
    );
    .wrapper {
      align-items: center;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .material-textfield {
      display: inline-block;
      height: 4rem;
      padding-top: 2rem;
    }
    .material-textfield input {
      background: none;
      border: none;
      box-sizing: border-box;
      display: block;
      font-family: Roboto, Arial, sans-serif;
      font-size: 1rem;
      padding: 0.25rem 0.1rem;
      width: 100%;
    }
    .material-textfield input:invalid {
      box-shadow: none;
    }
    .material-textfield input:focus {
      outline: none;
    }
    .material-textfield label {
      display: inline-block;
      font-family: Roboto, Arial, sans-serif;
      font-size: 0;
      pointer-events: none;
      position: relative;
      text-transform: uppercase;
      width: 100%;
    }
    .material-textfield label::before {
      content: attr(data-content);
      position: relative;
      transition: all 0.2s ease;
      will-change: font-size, top;
    }
    .material-textfield label::after {
      bottom: 0.9rem;
      content: "";
      height: 0.3rem;
      left: 50%;
      position: absolute;
      transition: all 0.2s ease;
      width: 0;
      will-change: width, left;
    }
    .material-textfield label::before,
    .material-textfield input[required]:focus ~ label::before {
      font-size: 0.75rem;
      top: -3.25rem;
    }
    .material-textfield input:focus ~ label::after {
      left: 0%;
      width: 100%;
    }
    .material-textfield input:invalid ~ label::before {
      font-size: 1rem;
      top: -2rem;
    }

    .material-textfield.blue input {
      border-bottom: 0.1rem solid #03a9f4;
      color: #0275a8;
    }
    .material-textfield.blue label::after {
      background: #03a9f4;
    }
    .material-textfield.blue label::before,
    .material-textfield.blue input[required]:focus ~ label::before {
      color: #47c4fd;
    }
    .material-textfield.blue input:invalid ~ label::before {
      color: #03a9f4;
    }

    .material-textfield.red input {
      border-bottom: 0.1rem solid #f44336;
      color: #d2190b;
    }
    .material-textfield.red label::after {
      background: #f44336;
    }
    .material-textfield.red label::before,
    .material-textfield.red input[required]:focus ~ label::before {
      color: #f8877f;
    }
    .material-textfield.red input:invalid ~ label::before {
      color: #f44336;
    }
  </style>
</head>

  </head><body>

    <div id="content">
      <div class="header">
        <h1 class="heading"><a href="../index.html"
          title="back to the documentation overview"><span>Prompt Toolkit</span></a></h1>
      </div>
      <div class="relnav" role="navigation" aria-label="related navigation">
        <a href="setup_readline.html">&laquo; Setting up readline</a> |
        <a href="#">Prompt Toolkit</a>
        | <a href="41_numpy.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">numpy</span></code> Initialization &raquo;</a>
      </div>
      <div id="contentwrapper">
        <div id="toc" role="navigation" aria-label="table of contents navigation">
          <h3>Table of Contents</h3>
          <ul>
<li><a class="reference internal" href="#">Prompt Toolkit</a><ul>
<li><a class="reference internal" href="#kb"><code class="xref py py-obj docutils literal notranslate"><span class="pre">32_kb</span></code></a><ul>
<li><a class="reference internal" href="#summary">Summary</a></li>
<li><a class="reference internal" href="#fun-with-vim">Fun with Vim</a></li>
</ul>
</li>
<li><a class="reference internal" href="#bottom-toolbar"><code class="xref py py-obj docutils literal notranslate"><span class="pre">33_bottom_toolbar</span></code></a></li>
<li><a class="reference internal" href="#lexer"><code class="xref py py-mod docutils literal notranslate"><span class="pre">35_lexer</span></code></a></li>
<li><a class="reference internal" href="#module-default_profile.startup.ptoolkit"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ptoolkit</span></code></a></li>
<li><a class="reference internal" href="#module-default_profile.startup.completions"><code class="xref py py-mod docutils literal notranslate"><span class="pre">completions</span></code></a></li>
</ul>
</li>
</ul>

        </div>
        <div role="main">
        
<div class="section" id="module-prompt_toolkit_modules">
<span id="prompt-toolkit"></span><h1>Prompt Toolkit<a class="headerlink" href="#module-prompt_toolkit_modules" title="Permalink to this headline">¶</a></h1>
<div class="section" id="kb">
<h2><a class="reference internal" href="#module-default_profile.startup.32_kb" title="default_profile.startup.32_kb: Begin reworking prompt_toolkit's keybindings."><code class="xref py py-obj docutils literal notranslate"><span class="pre">32_kb</span></code></a><a class="headerlink" href="#kb" title="Permalink to this headline">¶</a></h2>
<div class="section" id="summary">
<span id="keybindings-summary"></span><h3>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h3>
<p>Make prompt_toolkit’s keybindings more extensible.</p>
<p>Reminder of where you left off:</p>
<p>Bottom toolbar works but isn’t bound to a key idk why it isn’t working.
The seemingly recommended interface is to merge with merge_key_bindings
Difficult to add key_bindings after the merge though.
Mostly everything’s behaving as it should however.</p>
<p>I’m just gonna note how much this bugs me though.:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">30</span><span class="p">]:</span> <span class="n">p</span> <span class="o">=</span> <span class="n">PromptSessionKB</span><span class="p">()</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">30</span><span class="p">]:</span> <span class="o">&lt;</span><span class="n">PromptSessionKB</span><span class="o">&gt;</span><span class="p">:</span> <span class="mi">13</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">31</span><span class="p">]:</span> <span class="n">a</span> <span class="o">=</span> <span class="n">ApplicationKB</span><span class="p">()</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">31</span><span class="p">]:</span> <span class="o">&lt;</span><span class="n">ApplicationKB</span><span class="o">&gt;</span><span class="p">:</span> <span class="mi">24</span>
</pre></div>
</div>
<p>Alright now I need to start keeping track because this is rough.:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">_ip</span><span class="o">.</span><span class="n">pt_app</span><span class="o">.</span><span class="n">app</span>  <span class="c1"># Application. _ip.pt_app is the PromptSession.</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="o">&lt;</span><span class="n">prompt_toolkit</span><span class="o">.</span><span class="n">application</span><span class="o">.</span><span class="n">application</span><span class="o">.</span><span class="n">Application</span> <span class="n">at</span> <span class="mh">0x7f2710ac7d90</span><span class="o">&gt;</span>


<span class="n">In</span> <span class="p">[</span><span class="mi">9</span><span class="p">]:</span> <span class="n">_ip</span><span class="o">.</span><span class="n">pt_app</span><span class="o">.</span><span class="n">current_buffer</span>
<span class="ne">AttributeError</span><span class="p">:</span> <span class="s1">&#39;PromptSession&#39;</span> <span class="nb">object</span> <span class="n">has</span> <span class="n">no</span> <span class="n">attribute</span> <span class="s1">&#39;current_buffer&#39;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">_ip</span><span class="o">.</span><span class="n">pt_app</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">current_buffer</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="o">&lt;</span><span class="n">Buffer</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;DEFAULT_BUFFER&#39;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;_ip.pt_app.a...&#39;</span><span class="p">)</span> <span class="n">at</span> <span class="mi">139805760009696</span><span class="o">&gt;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">_ip</span><span class="o">.</span><span class="n">pt_app</span><span class="o">.</span><span class="n">validator</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="n">_ip</span><span class="o">.</span><span class="n">pt_app</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">validator</span>
<span class="ne">AttributeError</span><span class="p">:</span> <span class="s1">&#39;Application&#39;</span> <span class="nb">object</span> <span class="n">has</span> <span class="n">no</span> <span class="n">attribute</span> <span class="s1">&#39;validator&#39;</span>
</pre></div>
</div>
<p>Alright so they’re not the similar after all right?
From the docs.:</p>
<blockquote>
<div><p>Dynamically switch between Emacs and Vi mode</p>
<p>The Application has an editing_mode attribute.
We can change the key bindings by changing this attribute from
<code class="xref py py-obj docutils literal notranslate"><span class="pre">EditingMode.VI</span></code> to <code class="xref py py-obj docutils literal notranslate"><span class="pre">EditingMode.EMACS</span></code>.</p>
</div></blockquote>
<p>Guess what else has an editing_mode attribute.:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="n">_ip</span><span class="o">.</span><span class="n">pt_app</span><span class="o">.</span><span class="n">editing_mode</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="o">&lt;</span><span class="n">EditingMode</span><span class="o">.</span><span class="n">VI</span><span class="p">:</span> <span class="s1">&#39;VI&#39;</span><span class="o">&gt;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">6</span><span class="p">]:</span> <span class="n">_ip</span><span class="o">.</span><span class="n">pt_app</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">editing_mode</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">6</span><span class="p">]:</span> <span class="o">&lt;</span><span class="n">EditingMode</span><span class="o">.</span><span class="n">VI</span><span class="p">:</span> <span class="s1">&#39;VI&#39;</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Dude <code class="xref py py-obj docutils literal notranslate"><span class="pre">_MergedKeyBindings</span></code> are horrible.:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">30</span><span class="p">]:</span> <span class="n">_ip</span><span class="o">.</span><span class="n">pt_app</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">key_bindings</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">30</span><span class="p">]:</span> <span class="o">&lt;</span><span class="n">prompt_toolkit</span><span class="o">.</span><span class="n">key_binding</span><span class="o">.</span><span class="n">key_bindings</span><span class="o">.</span><span class="n">_MergedKeyBindings</span> <span class="n">at</span> <span class="mh">0x7f271047f340</span><span class="o">&gt;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">31</span><span class="p">]:</span> <span class="n">_ip</span><span class="o">.</span><span class="n">pt_app</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">key_bindings</span><span class="o">.</span><span class="n">registries</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">31</span><span class="p">]:</span>
<span class="p">[</span><span class="o">&lt;</span><span class="n">prompt_toolkit</span><span class="o">.</span><span class="n">key_binding</span><span class="o">.</span><span class="n">key_bindings</span><span class="o">.</span><span class="n">_MergedKeyBindings</span> <span class="n">at</span> <span class="mh">0x7f2710ac7b50</span><span class="o">&gt;</span><span class="p">,</span>
<span class="o">&lt;</span><span class="n">prompt_toolkit</span><span class="o">.</span><span class="n">key_binding</span><span class="o">.</span><span class="n">key_bindings</span><span class="o">.</span><span class="n">ConditionalKeyBindings</span> <span class="n">at</span> <span class="mh">0x7f2710447430</span><span class="o">&gt;</span><span class="p">]</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">32</span><span class="p">]:</span> <span class="n">_ip</span><span class="o">.</span><span class="n">pt_app</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">key_bindings</span><span class="o">.</span><span class="n">registries</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">32</span><span class="p">]:</span> <span class="o">&lt;</span><span class="n">prompt_toolkit</span><span class="o">.</span><span class="n">key_binding</span><span class="o">.</span><span class="n">key_bindings</span><span class="o">.</span><span class="n">_MergedKeyBindings</span> <span class="n">at</span> <span class="mh">0x7f2710ac7b50</span><span class="o">&gt;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">33</span><span class="p">]:</span> <span class="n">_ip</span><span class="o">.</span><span class="n">pt_app</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">key_bindings</span><span class="o">.</span><span class="n">registries</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registries</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">33</span><span class="p">]:</span>
<span class="p">[</span><span class="o">&lt;</span><span class="n">prompt_toolkit</span><span class="o">.</span><span class="n">key_binding</span><span class="o">.</span><span class="n">key_bindings</span><span class="o">.</span><span class="n">_MergedKeyBindings</span> <span class="n">at</span> <span class="mh">0x7f2710ac77f0</span><span class="o">&gt;</span><span class="p">,</span>
<span class="o">&lt;</span><span class="n">prompt_toolkit</span><span class="o">.</span><span class="n">key_binding</span><span class="o">.</span><span class="n">key_bindings</span><span class="o">.</span><span class="n">DynamicKeyBindings</span> <span class="n">at</span> <span class="mh">0x7f2710ac79a0</span><span class="o">&gt;</span><span class="p">]</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">34</span><span class="p">]:</span> <span class="n">_ip</span><span class="o">.</span><span class="n">pt_app</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">key_bindings</span><span class="o">.</span><span class="n">registries</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registries</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">34</span><span class="p">]:</span> <span class="o">&lt;</span><span class="n">prompt_toolkit</span><span class="o">.</span><span class="n">key_binding</span><span class="o">.</span><span class="n">key_bindings</span><span class="o">.</span><span class="n">_MergedKeyBindings</span> <span class="n">at</span> <span class="mh">0x7f2710ac77f0</span><span class="o">&gt;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">35</span><span class="p">]:</span> <span class="n">_ip</span><span class="o">.</span><span class="n">pt_app</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">key_bindings</span><span class="o">.</span><span class="n">registries</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registries</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registries</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">35</span><span class="p">]:</span> <span class="o">&lt;</span><span class="n">prompt_toolkit</span><span class="o">.</span><span class="n">key_binding</span><span class="o">.</span><span class="n">key_bindings</span><span class="o">.</span><span class="n">KeyBindings</span> <span class="n">at</span> <span class="mh">0x7f2710ac3160</span><span class="o">&gt;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">36</span><span class="p">]:</span> <span class="n">_ip</span><span class="o">.</span><span class="n">pt_app</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">key_bindings</span><span class="o">.</span><span class="n">registries</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registries</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">registries</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">bindings</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">36</span><span class="p">]:</span>
<span class="p">[</span><span class="n">Binding</span><span class="p">(</span><span class="n">keys</span><span class="o">=</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Keys</span><span class="o">.</span><span class="n">Right</span><span class="p">:</span> <span class="s1">&#39;right&#39;</span><span class="o">&gt;</span><span class="p">,),</span> <span class="n">handler</span><span class="o">=&lt;</span><span class="n">function</span> <span class="n">load_auto_suggest_bindings</span><span class="o">.&lt;</span><span class="nb">locals</span><span class="o">&gt;.</span><span class="n">_</span> <span class="n">at</span> <span class="mh">0x7f2710aadd30</span><span class="o">&gt;</span><span class="p">),</span>
<span class="n">Binding</span><span class="p">(</span><span class="n">keys</span><span class="o">=</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Keys</span><span class="o">.</span><span class="n">ControlE</span><span class="p">:</span> <span class="s1">&#39;c-e&#39;</span><span class="o">&gt;</span><span class="p">,),</span> <span class="n">handler</span><span class="o">=&lt;</span><span class="n">function</span> <span class="n">load_auto_suggest_bindings</span><span class="o">.&lt;</span><span class="nb">locals</span><span class="o">&gt;.</span><span class="n">_</span> <span class="n">at</span> <span class="mh">0x7f2710aadd30</span><span class="o">&gt;</span><span class="p">),</span>
<span class="n">Binding</span><span class="p">(</span><span class="n">keys</span><span class="o">=</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Keys</span><span class="o">.</span><span class="n">ControlF</span><span class="p">:</span> <span class="s1">&#39;c-f&#39;</span><span class="o">&gt;</span><span class="p">,),</span> <span class="n">handler</span><span class="o">=&lt;</span><span class="n">function</span> <span class="n">load_auto_suggest_bindings</span><span class="o">.&lt;</span><span class="nb">locals</span><span class="o">&gt;.</span><span class="n">_</span> <span class="n">at</span> <span class="mh">0x7f2710aadd30</span><span class="o">&gt;</span><span class="p">),</span>
<span class="n">Binding</span><span class="p">(</span><span class="n">keys</span><span class="o">=</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Keys</span><span class="o">.</span><span class="n">Escape</span><span class="p">:</span> <span class="s1">&#39;escape&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">),</span> <span class="n">handler</span><span class="o">=&lt;</span><span class="n">function</span> <span class="n">load_auto_suggest_bindings</span><span class="o">.&lt;</span><span class="nb">locals</span><span class="o">&gt;.</span><span class="n">_</span> <span class="n">at</span> <span class="mh">0x7f2710aadc10</span><span class="o">&gt;</span><span class="p">)]</span>
</pre></div>
</div>
<p>And you kinda can’t do anything about it.:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">39</span><span class="p">]:</span> <span class="n">did_we_make_it_better</span> <span class="o">=</span> <span class="n">DynamicKeyBindings</span><span class="p">(</span><span class="n">_ip</span><span class="o">.</span><span class="n">pt_app</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">key_bindings</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">39</span><span class="p">]:</span> <span class="o">&lt;</span><span class="n">prompt_toolkit</span><span class="o">.</span><span class="n">key_binding</span><span class="o">.</span><span class="n">key_bindings</span><span class="o">.</span><span class="n">DynamicKeyBindings</span> <span class="n">at</span> <span class="mh">0x7f26f7d9ba30</span><span class="o">&gt;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">40</span><span class="p">]:</span> <span class="n">did_we_make_it_better</span><span class="o">.</span><span class="n">bindings</span>
<span class="ne">TypeError</span><span class="p">:</span> <span class="s1">&#39;_MergedKeyBindings&#39;</span> <span class="nb">object</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">callable</span>
</pre></div>
</div>
<p>Can’t extract anything from them.:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">42</span><span class="p">]:</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">load_key_bindings</span><span class="p">()</span><span class="o">.</span><span class="n">registries</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">bindings</span><span class="p">:</span>
    <span class="o">...</span><span class="p">:</span>     <span class="n">_ip</span><span class="o">.</span><span class="n">pt_app</span><span class="o">.</span><span class="n">key_bindings</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">keys</span><span class="p">)(</span><span class="n">i</span><span class="o">.</span><span class="n">handler</span><span class="p">)</span>
    <span class="o">...</span><span class="p">:</span> <span class="ne">ValueError</span><span class="p">:</span> <span class="n">Invalid</span> <span class="n">key</span><span class="p">:</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">Keys</span><span class="o">.</span><span class="n">ControlX</span><span class="p">:</span> <span class="s1">&#39;c-x&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Gotta be honest I felt very creative working my way up to that one.
If we can’t do that, lets keep working at the individual bindings.:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">43</span><span class="p">]:</span> <span class="n">i</span><span class="o">.</span><span class="n">keys</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">43</span><span class="p">]:</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">Keys</span><span class="o">.</span><span class="n">ControlX</span><span class="p">:</span> <span class="s1">&#39;c-x&#39;</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">44</span><span class="p">]:</span> <span class="nb">type</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">keys</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">44</span><span class="p">]:</span> <span class="nb">tuple</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">45</span><span class="p">]:</span> <span class="n">i</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">45</span><span class="p">]:</span> <span class="o">&lt;</span><span class="n">Keys</span><span class="o">.</span><span class="n">ControlX</span><span class="p">:</span> <span class="s1">&#39;c-x&#39;</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>So far so good?:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">57</span><span class="p">]:</span> <span class="n">c</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="o">...</span><span class="p">:</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">i</span><span class="o">.</span><span class="n">keys</span><span class="p">:</span>
<span class="o">...</span><span class="p">:</span>     <span class="n">c</span> <span class="o">+=</span> <span class="n">Keys</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>
<span class="o">...</span><span class="p">:</span> <span class="ne">ValueError</span><span class="p">:</span> <span class="s1">&#39;r&#39;</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">a</span> <span class="n">valid</span> <span class="n">Keys</span>
    <span class="n">During</span> <span class="n">handling</span> <span class="n">of</span> <span class="n">the</span> <span class="n">above</span> <span class="n">exception</span><span class="p">,</span> <span class="n">another</span> <span class="n">exception</span> <span class="n">occurred</span><span class="p">:</span>
    <span class="ne">ValueError</span><span class="p">:</span> <span class="s1">&#39;r&#39;</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">a</span> <span class="n">valid</span> <span class="n">Keys</span>
</pre></div>
</div>
<p>Yup. We have to redefine what a key is.</p>
</div>
<div class="section" id="fun-with-vim">
<h3>Fun with Vim<a class="headerlink" href="#fun-with-vim" title="Permalink to this headline">¶</a></h3>
<p>Dude these are all the vi modes prompt_toolkit has…lol
So I just checked. Wanna know what it does?
They’re basically Enums that get compared to <code class="docutils literal notranslate"><span class="pre">editing_mode.input_mode</span></code>.:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">prompt_toolkit.filters.app</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">vi_selection_mode</span><span class="p">,</span>
    <span class="n">vi_recording_macro</span><span class="p">,</span>
    <span class="n">vi_register_names</span><span class="p">,</span>
    <span class="n">vi_mode</span><span class="p">,</span>
    <span class="n">vi_replace_mode</span><span class="p">,</span>
    <span class="n">vi_waiting_for_text_object_mode</span><span class="p">,</span>
    <span class="n">vi_insert_mode</span><span class="p">,</span>
    <span class="n">vi_search_direction_reversed</span><span class="p">,</span>
    <span class="n">vi_navigation_mode</span><span class="p">,</span>
    <span class="n">vi_digraph_mode</span><span class="p">,</span>
    <span class="n">vi_insert_multiple_mode</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<span class="target" id="module-default_profile.startup.32_kb"></span><dl class="class">
<dt id="default_profile.startup.32_kb.KeyBindingsManager">
<em class="property">class </em><code class="sig-name descname">KeyBindingsManager</code><span class="sig-paren">(</span><em class="sig-param">kb=None</em>, <em class="sig-param">shell=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/32_kb.html#KeyBindingsManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.32_kb.KeyBindingsManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/collections.html#collections.UserList" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.UserList</span></code></a></p>
<p>An object to make working with keybindings easier.</p>
<p>Subclasses UserList with a list of Keys and their handlers.
By defining dunders, the collection of keybindings are much
easier to work with.</p>
<dl class="method">
<dt id="default_profile.startup.32_kb.KeyBindingsManager.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">kb=None</em>, <em class="sig-param">shell=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/32_kb.html#KeyBindingsManager.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.32_kb.KeyBindingsManager.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kb</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">KeyBindings</span></code>) – Any KeyBindings you wanna throw us right off the bat.
Handling this is gonna be hard unfortunately.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="default_profile.startup.32_kb.KeyBindingsManager.add">
<code class="sig-name descname">add</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">another_one</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/32_kb.html#KeyBindingsManager.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.32_kb.KeyBindingsManager.add" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="default_profile.startup.32_kb.KeyBindingsManager.len">
<code class="sig-name descname">len</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/32_kb.html#KeyBindingsManager.len"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.32_kb.KeyBindingsManager.len" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="default_profile.startup.32_kb.KeyBindingsManager.bindings">
<em class="property">property </em><code class="sig-name descname">bindings</code><a class="reference internal" href="../_modules/default_profile/startup/32_kb.html#KeyBindingsManager.bindings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.32_kb.KeyBindingsManager.bindings" title="Permalink to this definition">¶</a></dt>
<dd><p>Make the <em>kb</em> attributes bindings visible at the top level.</p>
</dd></dl>

<dl class="method">
<dt id="default_profile.startup.32_kb.KeyBindingsManager.call_iadd">
<em class="property">property </em><code class="sig-name descname">call_iadd</code><a class="reference internal" href="../_modules/default_profile/startup/32_kb.html#KeyBindingsManager.call_iadd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.32_kb.KeyBindingsManager.call_iadd" title="Permalink to this definition">¶</a></dt>
<dd><p>Make the <em>kb</em> attributes bindings visible at the top level.</p>
</dd></dl>

<dl class="method">
<dt id="default_profile.startup.32_kb.KeyBindingsManager.get_keys">
<code class="sig-name descname">get_keys</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">keys</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/32_kb.html#KeyBindingsManager.get_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.32_kb.KeyBindingsManager.get_keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="default_profile.startup.32_kb.KeyBindingsManager.get_bindings_for_keys">
<code class="sig-name descname">get_bindings_for_keys</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">keys</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/32_kb.html#KeyBindingsManager.get_bindings_for_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.32_kb.KeyBindingsManager.get_bindings_for_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of key bindings that can handle this key.</p>
<p>(This return also inactive bindings, so the <a class="reference external" href="https://docs.python.org/3/library/functions.html#filter" title="(in Python v3.8)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">filter</span></code></a> still has to be
called, for checking it.)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>keys</strong> – tuple of keys.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="default_profile.startup.32_kb.KeyBindingsManager.get_bindings_starting_with_keys">
<code class="sig-name descname">get_bindings_starting_with_keys</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">keys</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/32_kb.html#KeyBindingsManager.get_bindings_starting_with_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.32_kb.KeyBindingsManager.get_bindings_starting_with_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of key bindings that handle a sequence starting with <code class="xref py py-obj docutils literal notranslate"><span class="pre">keys</span></code>.</p>
<p>(It does only return bindings for which the sequences are
longer than <code class="xref py py-obj docutils literal notranslate"><span class="pre">keys</span></code>. And like <a class="reference internal" href="#default_profile.startup.32_kb.KeyBindingsManager.get_bindings_for_keys" title="default_profile.startup.32_kb.KeyBindingsManager.get_bindings_for_keys"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_bindings_for_keys</span></code></a>, it also includes
inactive bindings.)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>keys</strong> – tuple of keys.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="default_profile.startup.32_kb.ApplicationKB">
<em class="property">class </em><code class="sig-name descname">ApplicationKB</code><span class="sig-paren">(</span><em class="sig-param">kb=None</em>, <em class="sig-param">shell=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/32_kb.html#ApplicationKB"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.32_kb.ApplicationKB" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#default_profile.startup.32_kb.KeyBindingsManager" title="default_profile.startup.32_kb.KeyBindingsManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">default_profile.startup.32_kb.KeyBindingsManager</span></code></a></p>
<p>Functionally the exact same thing except now we’re bound to _ip.pt_app.</p>
<dl class="method">
<dt id="default_profile.startup.32_kb.ApplicationKB.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">kb=None</em>, <em class="sig-param">shell=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/32_kb.html#ApplicationKB.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.32_kb.ApplicationKB.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="default_profile.startup.32_kb.HandlesMergedKB">
<em class="property">class </em><code class="sig-name descname">HandlesMergedKB</code><span class="sig-paren">(</span><em class="sig-param">kb=None</em>, <em class="sig-param">shell=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/32_kb.html#HandlesMergedKB"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.32_kb.HandlesMergedKB" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#default_profile.startup.32_kb.KeyBindingsManager" title="default_profile.startup.32_kb.KeyBindingsManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">default_profile.startup.32_kb.KeyBindingsManager</span></code></a></p>
<p>It might be easier to handle the insufferable discrepencies in implementation
between _MergedKeyBindings and ConditionalKeyBindings through class attributes.</p>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>Unpacking the KeyBindings registry attribute.</p>
</div>
<dl class="attribute">
<dt id="default_profile.startup.32_kb.HandlesMergedKB.shell">
<code class="sig-name descname">shell</code><em class="property"> = None</em><a class="headerlink" href="#default_profile.startup.32_kb.HandlesMergedKB.shell" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="default_profile.startup.32_kb.Documented">
<em class="property">class </em><code class="sig-name descname">Documented</code><span class="sig-paren">(</span><em class="sig-param">text: str = ''</em>, <em class="sig-param">cursor_position: Optional[int] = None</em>, <em class="sig-param">selection: Optional[prompt_toolkit.selection.SelectionState] = None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/32_kb.html#Documented"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.32_kb.Documented" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://python-prompt-toolkit.readthedocs.io/en/stable/pages/reference.html#prompt_toolkit.document.Document" title="(in prompt_toolkit v3.0.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">prompt_toolkit.document.Document</span></code></a></p>
<p>I’ll admit this subclass doesn’t exist for much of a reason.</p>
<p>However, it’s a LOT easier to work with classes with their dunders defined.</p>
<p>Implement the basics for a class to be considered a sequence IE len and iter.</p>
</dd></dl>

</div>
</div>
<div class="section" id="bottom-toolbar">
<h2><a class="reference internal" href="#module-default_profile.startup.33_bottom_toolbar" title="default_profile.startup.33_bottom_toolbar: Generate a toolbar using lower-level controls."><code class="xref py py-obj docutils literal notranslate"><span class="pre">33_bottom_toolbar</span></code></a><a class="headerlink" href="#bottom-toolbar" title="Permalink to this headline">¶</a></h2>
<p>This module begins the section of the repository that entails more advanced
customization of prompt_toolkit.</p>
<p>Lower level constructs like widgets, toolbars and eventually the Layout classes
are utilized quite heavily.</p>
<div class="admonition-be-careful-what-the-bottom-toolbar-is-set-to admonition">
<p class="admonition-title">Be careful what the bottom toolbar is set to.</p>
<p>It’s not very difficult to crash the entire application as a result of
giving it the wrong type.</p>
</div>
<p>The <a class="reference external" href="https://ipython.readthedocs.io/en/stable/api/generated/IPython.core.interactiveshell.html#IPython.core.interactiveshell.InteractiveShell" title="(in IPython v7.13.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">InteractiveShell</span></code></a>.`pt_app.bottom_toolbar` type is expected to be some kind of
FormattedText. Unfortunately, feeding it an already populated control like a
FormattedTextToolbar will break the application.</p>
<p>Don’t run.:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bottom_toolbar</span> <span class="o">=</span> <span class="n">FormattedTextToolbar</span><span class="p">(</span><span class="n">bottom_text</span><span class="p">)</span>
<span class="n">shell</span><span class="o">.</span><span class="n">pt_app</span><span class="o">.</span><span class="n">bottom_toolbar</span> <span class="o">=</span> <span class="n">bottom_toolbar</span>
</pre></div>
</div>
<span class="target" id="module-default_profile.startup.33_bottom_toolbar"></span><p>TODO: currently initialize a titlebar, an exit button and a few
other things that aren’t utilized at all.</p>
<dl class="function">
<dt id="default_profile.startup.33_bottom_toolbar.get_app">
<code class="sig-name descname">get_app</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/33_bottom_toolbar.html#get_app"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.33_bottom_toolbar.get_app" title="Permalink to this definition">¶</a></dt>
<dd><p>A patch to cover up the fact that get_app() returns a DummyApplication.</p>
</dd></dl>

<dl class="function">
<dt id="default_profile.startup.33_bottom_toolbar.exit_clicked">
<code class="sig-name descname">exit_clicked</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/33_bottom_toolbar.html#exit_clicked"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.33_bottom_toolbar.exit_clicked" title="Permalink to this definition">¶</a></dt>
<dd><p>Exit from the prompt_toolkit side of things.</p>
</dd></dl>

<dl class="function">
<dt id="default_profile.startup.33_bottom_toolbar.init_style">
<code class="sig-name descname">init_style</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/33_bottom_toolbar.html#init_style"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.33_bottom_toolbar.init_style" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="default_profile.startup.33_bottom_toolbar.show_header">
<code class="sig-name descname">show_header</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/33_bottom_toolbar.html#show_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.33_bottom_toolbar.show_header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="default_profile.startup.33_bottom_toolbar.LineCounter">
<em class="property">class </em><code class="sig-name descname">LineCounter</code><a class="reference internal" href="../_modules/default_profile/startup/33_bottom_toolbar.html#LineCounter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.33_bottom_toolbar.LineCounter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Simple counter inspired by Doug Hellman. Could set it to sys.displayhook.</p>
<dl class="field-list simple">
<dt class="field-odd">URL</dt>
<dd class="field-odd"><p><a class="reference external" href="https://pymotw.com/3/sys/interpreter.html">https://pymotw.com/3/sys/interpreter.html</a></p>
</dd>
</dl>
<dl class="method">
<dt id="default_profile.startup.33_bottom_toolbar.LineCounter.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/33_bottom_toolbar.html#LineCounter.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.33_bottom_toolbar.LineCounter.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="default_profile.startup.33_bottom_toolbar.BottomToolbar">
<em class="property">class </em><code class="sig-name descname">BottomToolbar</code><span class="sig-paren">(</span><em class="sig-param">app</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/33_bottom_toolbar.html#BottomToolbar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.33_bottom_toolbar.BottomToolbar" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Display the current input mode.</p>
<p>As the bottom_toolbar property exists in both a prompt_toolkit PromptSession
and Application, both are accessible from the <code class="xref py py-obj docutils literal notranslate"><span class="pre">session</span></code> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">pt_app</span></code>
attributes.</p>
<p>Defines a method <a class="reference internal" href="#default_profile.startup.33_bottom_toolbar.BottomToolbar.rerender" title="default_profile.startup.33_bottom_toolbar.BottomToolbar.rerender"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rerender()</span></code></a> and calls it whenever the instance is called
via <code class="docutils literal notranslate"><span class="pre">__call__</span></code>.</p>
<dl class="method">
<dt id="default_profile.startup.33_bottom_toolbar.BottomToolbar.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">app</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/33_bottom_toolbar.html#BottomToolbar.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.33_bottom_toolbar.BottomToolbar.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Require an ‘app’ for initialization.</p>
<p>This will eliminate all IPython code out of this class and make things
a little more modular for the tests.</p>
</dd></dl>

<dl class="method">
<dt id="default_profile.startup.33_bottom_toolbar.BottomToolbar.is_vi_mode">
<em class="property">property </em><code class="sig-name descname">is_vi_mode</code><a class="reference internal" href="../_modules/default_profile/startup/33_bottom_toolbar.html#BottomToolbar.is_vi_mode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.33_bottom_toolbar.BottomToolbar.is_vi_mode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="default_profile.startup.33_bottom_toolbar.BottomToolbar.terminal_width">
<code class="sig-name descname">terminal_width</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/33_bottom_toolbar.html#BottomToolbar.terminal_width"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.33_bottom_toolbar.BottomToolbar.terminal_width" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <code class="xref py py-obj docutils literal notranslate"><span class="pre">shutil.get_terminal_size.columns</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="default_profile.startup.33_bottom_toolbar.BottomToolbar.full_width">
<code class="sig-name descname">full_width</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/33_bottom_toolbar.html#BottomToolbar.full_width"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.33_bottom_toolbar.BottomToolbar.full_width" title="Permalink to this definition">¶</a></dt>
<dd><p>Bool indicating bottom toolbar == shutil.get_terminal_size().columns.</p>
</dd></dl>

<dl class="method">
<dt id="default_profile.startup.33_bottom_toolbar.BottomToolbar.rerender">
<code class="sig-name descname">rerender</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/33_bottom_toolbar.html#BottomToolbar.rerender"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.33_bottom_toolbar.BottomToolbar.rerender" title="Permalink to this definition">¶</a></dt>
<dd><p>Render the toolbar at the bottom for prompt_toolkit.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Simple reminder about the difference between running an
expression and returning one.
If you accidentally forget the <code class="xref py py-obj docutils literal notranslate"><span class="pre">return</span></code> keyword, nothing will
display.
That’s all.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="default_profile.startup.33_bottom_toolbar.add_toolbar">
<code class="sig-name descname">add_toolbar</code><span class="sig-paren">(</span><em class="sig-param">toolbar=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/33_bottom_toolbar.html#add_toolbar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.33_bottom_toolbar.add_toolbar" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the running IPython instance and add ‘bottom_toolbar’.</p>
</dd></dl>

</div>
<div class="section" id="lexer">
<h2><a class="reference internal" href="#module-default_profile.startup.35_lexer" title="default_profile.startup.35_lexer: Generate a lexer to provide syntax highlighting in the REPL."><code class="xref py py-mod docutils literal notranslate"><span class="pre">35_lexer</span></code></a><a class="headerlink" href="#lexer" title="Permalink to this headline">¶</a></h2>
<p>Build our lexer in addition to utilizing already built ones.</p>
<p>Pygments, IPython, prompt_toolkit, Jinja2 and Sphinx all come
with their own concepts of lexers which doesn’t include
the built-in modules.:</p>
<ul>
<li><a class="reference external" href="https://docs.python.org/3/library/parser.html#module-parser" title="(in Python v3.8)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">parser</span></code></a></li>
<li><a class="reference external" href="https://docs.python.org/3/library/token.html#module-token" title="(in Python v3.8)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">token</span></code></a></li>
<li><code class="xref py py-mod docutils literal notranslate"><span class="pre">tokenizer</span></code></li>
<li><a class="reference external" href="https://docs.python.org/3/library/re.html#module-re" title="(in Python v3.8)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">re</span></code></a></li>
<li><a class="reference external" href="https://docs.python.org/3/library/ast.html#module-ast" title="(in Python v3.8)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ast</span></code></a></li>
</ul>
<p>So it’d be tough to say we’re at a lack of tools!</p>
<dl class="class">
<dt id="default_profile.startup.35_lexer.IPythonConfigurableLexer">
<em class="property">class </em><code class="sig-name descname">IPythonConfigurableLexer</code><a class="reference internal" href="../_modules/default_profile/startup/35_lexer.html#IPythonConfigurableLexer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.35_lexer.IPythonConfigurableLexer" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to merge the seemingly disjoint APIs of IPython, traitlets,
prompt_toolkit and pygments.</p>
<p>TODO: The <code class="xref py py-obj docutils literal notranslate"><span class="pre">IPython.terminal.lexer.IPythonPTLexer</span></code> also should have a few
of these attributes as well.</p>
<blockquote>
<div><p>And here’s how you join the bridge.</p>
</div></blockquote>
</dd></dl>

<dl class="class">
<dt>
<code class="sig-name descname">PygmentsLexer(Lexer):</code></dt>
<dd><p>Lexer that calls a pygments lexer.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pygments.lexers.html</span> <span class="kn">import</span> <span class="n">HtmlLexer</span>
<span class="n">lexer</span> <span class="o">=</span> <span class="n">PygmentsLexer</span><span class="p">(</span><span class="n">HtmlLexer</span><span class="p">)</span>
</pre></div>
</div>
<p>Note: Don’t forget to also load a Pygments compatible style. E.g.:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">prompt_toolkit.styles.from_pygments</span> <span class="kn">import</span> <span class="n">style_from_pygments_cls</span>
<span class="kn">from</span> <span class="nn">pygments.styles</span> <span class="kn">import</span> <span class="n">get_style_by_name</span>
<span class="n">style</span> <span class="o">=</span> <span class="n">style_from_pygments_cls</span><span class="p">(</span><span class="n">get_style_by_name</span><span class="p">(</span><span class="s1">&#39;monokai&#39;</span><span class="p">))</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul>
<li><p><strong>pygments_lexer_cls</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">Lexer</span></code> from Pygments.</p></li>
<li><p><strong>sync_from_start</strong> – Start lexing at the start of the document. This
will always give the best results, but it will be slow for bigger
documents. (When the last part of the document is display, then the
whole document will be lexed by Pygments on every key stroke.) It is
recommended to disable this for inputs that are expected to be more
than 1,000 lines.</p></li>
<li><p><strong>syntax_sync</strong> – <code class="xref py py-obj docutils literal notranslate"><span class="pre">SyntaxSync</span></code> object.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-default_profile.startup.35_lexer"></span><dl class="function">
<dt id="default_profile.startup.35_lexer.our_style">
<code class="sig-name descname">our_style</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/35_lexer.html#our_style"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.35_lexer.our_style" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="default_profile.startup.35_lexer.get_lexer">
<code class="sig-name descname">get_lexer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/35_lexer.html#get_lexer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.35_lexer.get_lexer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="default_profile.startup.35_lexer.pygments_tokens">
<code class="sig-name descname">pygments_tokens</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/35_lexer.html#pygments_tokens"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.35_lexer.pygments_tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>A  list of Pygments style tokens. In case you need that.</p>
</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="sig-name descname">IPythonConfigurableLexer</code><span class="sig-paren">(</span><em class="sig-param">shell=None</em>, <em class="sig-param">original_lexer=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/35_lexer.html#IPythonConfigurableLexer"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">traitlets.config.configurable.LoggingConfigurable</span></code></p>
<dl class="attribute">
<dt id="default_profile.startup.35_lexer.IPythonConfigurableLexer.lexer">
<code class="sig-name descname">lexer</code><a class="headerlink" href="#default_profile.startup.35_lexer.IPythonConfigurableLexer.lexer" title="Permalink to this definition">¶</a></dt>
<dd><p>A trait whose value must be an instance of a specified class.</p>
<p>The value can also be an instance of a subclass of the specified class.</p>
<p>Subclasses can declare default classes by overriding the klass attribute</p>
</dd></dl>

<dl class="attribute">
<dt id="default_profile.startup.35_lexer.IPythonConfigurableLexer.name">
<code class="sig-name descname">name</code><em class="property"> = None</em><a class="headerlink" href="#default_profile.startup.35_lexer.IPythonConfigurableLexer.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the lexer</p>
</dd></dl>

<dl class="attribute">
<dt id="default_profile.startup.35_lexer.IPythonConfigurableLexer.aliases">
<code class="sig-name descname">aliases</code><em class="property"> = []</em><a class="headerlink" href="#default_profile.startup.35_lexer.IPythonConfigurableLexer.aliases" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcuts for the lexer</p>
</dd></dl>

<dl class="attribute">
<dt id="default_profile.startup.35_lexer.IPythonConfigurableLexer.filenames">
<code class="sig-name descname">filenames</code><em class="property"> = []</em><a class="headerlink" href="#default_profile.startup.35_lexer.IPythonConfigurableLexer.filenames" title="Permalink to this definition">¶</a></dt>
<dd><p>File name globs</p>
</dd></dl>

<dl class="attribute">
<dt id="default_profile.startup.35_lexer.IPythonConfigurableLexer.alias_filenames">
<code class="sig-name descname">alias_filenames</code><em class="property"> = []</em><a class="headerlink" href="#default_profile.startup.35_lexer.IPythonConfigurableLexer.alias_filenames" title="Permalink to this definition">¶</a></dt>
<dd><p>Secondary file name globs</p>
</dd></dl>

<dl class="attribute">
<dt id="default_profile.startup.35_lexer.IPythonConfigurableLexer.mimetypes">
<code class="sig-name descname">mimetypes</code><em class="property"> = []</em><a class="headerlink" href="#default_profile.startup.35_lexer.IPythonConfigurableLexer.mimetypes" title="Permalink to this definition">¶</a></dt>
<dd><p>MIME types</p>
</dd></dl>

<dl class="attribute">
<dt id="default_profile.startup.35_lexer.IPythonConfigurableLexer.priority">
<code class="sig-name descname">priority</code><em class="property"> = 0</em><a class="headerlink" href="#default_profile.startup.35_lexer.IPythonConfigurableLexer.priority" title="Permalink to this definition">¶</a></dt>
<dd><p>Priority, should multiple lexers match and no content is provided</p>
</dd></dl>

<dl class="method">
<dt id="default_profile.startup.35_lexer.IPythonConfigurableLexer.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">shell=None</em>, <em class="sig-param">original_lexer=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/35_lexer.html#IPythonConfigurableLexer.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.35_lexer.IPythonConfigurableLexer.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="default_profile.startup.35_lexer.IPythonConfigurableLexer.shell">
<code class="sig-name descname">shell</code><a class="headerlink" href="#default_profile.startup.35_lexer.IPythonConfigurableLexer.shell" title="Permalink to this definition">¶</a></dt>
<dd><p>A trait whose value must be an instance of a specified class.</p>
<p>The value can also be an instance of a subclass of the specified class.</p>
<p>Subclasses can declare default classes by overriding the klass attribute</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="default_profile.startup.35_lexer.Colorizer">
<em class="property">class </em><code class="sig-name descname">Colorizer</code><span class="sig-paren">(</span><em class="sig-param">pylexer=None</em>, <em class="sig-param">formatter=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/35_lexer.html#Colorizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.35_lexer.Colorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Make the pygments function ‘highlight’ even easier to work with.</p>
<p>Additionally utilize <code class="docutils literal notranslate"><span class="pre">__slots__</span></code> to conserve memory.</p>
<dl class="method">
<dt id="default_profile.startup.35_lexer.Colorizer.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">pylexer=None</em>, <em class="sig-param">formatter=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/35_lexer.html#Colorizer.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.35_lexer.Colorizer.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="default_profile.startup.35_lexer.Colorizer.pylexer">
<code class="sig-name descname">pylexer</code><a class="headerlink" href="#default_profile.startup.35_lexer.Colorizer.pylexer" title="Permalink to this definition">¶</a></dt>
<dd><p>A PythonLexer from Pygments</p>
</dd></dl>

<dl class="attribute">
<dt id="default_profile.startup.35_lexer.Colorizer.formatter">
<code class="sig-name descname">formatter</code><a class="headerlink" href="#default_profile.startup.35_lexer.Colorizer.formatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Format tokens with ANSI color sequences, for output in a true-color
terminal or console.  Like in <code class="xref py py-obj docutils literal notranslate"><span class="pre">TerminalFormatter</span></code> color sequences
are terminated at newlines, so that paging the output works correctly.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.1.</span></p>
</div>
<p>Options accepted:</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">style</span></code></dt><dd><p>The style to use, can be a string or a Style subclass (default:
<code class="docutils literal notranslate"><span class="pre">'default'</span></code>).</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="default_profile.startup.35_lexer.Colorizer.highlight">
<code class="sig-name descname">highlight</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">code</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/35_lexer.html#Colorizer.highlight"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.35_lexer.Colorizer.highlight" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="default_profile.startup.35_lexer.MyPythonLexer">
<em class="property">class </em><code class="sig-name descname">MyPythonLexer</code><span class="sig-paren">(</span><em class="sig-param">**options</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/35_lexer.html#MyPythonLexer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.35_lexer.MyPythonLexer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pygments.lexers.python.PythonLexer</span></code></p>
<dl class="attribute">
<dt id="default_profile.startup.35_lexer.MyPythonLexer.EXTRA_KEYWORDS">
<code class="sig-name descname">EXTRA_KEYWORDS</code><em class="property"> = {'!'}</em><a class="headerlink" href="#default_profile.startup.35_lexer.MyPythonLexer.EXTRA_KEYWORDS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="default_profile.startup.35_lexer.MyPythonLexer.get_tokens_unprocessed">
<code class="sig-name descname">get_tokens_unprocessed</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">text</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/35_lexer.html#MyPythonLexer.get_tokens_unprocessed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.35_lexer.MyPythonLexer.get_tokens_unprocessed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="default_profile.startup.35_lexer.get_titlebar_text">
<code class="sig-name descname">get_titlebar_text</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/35_lexer.html#get_titlebar_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.35_lexer.get_titlebar_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Return (style, text) tuples for startup.</p>
</dd></dl>

<dl class="function">
<dt id="default_profile.startup.35_lexer.generate_and_print_hsplit">
<code class="sig-name descname">generate_and_print_hsplit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/35_lexer.html#generate_and_print_hsplit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.35_lexer.generate_and_print_hsplit" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a <code class="xref py py-obj docutils literal notranslate"><span class="pre">prompt_toolkit.layout.container.HSplit</span></code>.</p>
<p>Originally was in 33_bottom_toolbar but moved here so we can use the lexer.</p>
</dd></dl>

<dl class="function">
<dt id="default_profile.startup.35_lexer.pphighlight">
<code class="sig-name descname">pphighlight</code><span class="sig-paren">(</span><em class="sig-param">o</em>, <em class="sig-param">*a</em>, <em class="sig-param">**kw</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/35_lexer.html#pphighlight"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.35_lexer.pphighlight" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="default_profile.startup.35_lexer.extra_displayhook">
<code class="sig-name descname">extra_displayhook</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/35_lexer.html#extra_displayhook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.35_lexer.extra_displayhook" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-default_profile.startup.ptoolkit">
<span id="ptoolkit"></span><h2><a class="reference internal" href="#module-default_profile.startup.ptoolkit" title="default_profile.startup.ptoolkit: Generate a more generalized class to interact with prompt_toolkit."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ptoolkit</span></code></a><a class="headerlink" href="#module-default_profile.startup.ptoolkit" title="Permalink to this headline">¶</a></h2>
<p>Provides utilities functions and classes to work with both <code class="xref py py-obj docutils literal notranslate"><span class="pre">prompt_toolkit</span></code>
and <a class="reference external" href="https://ipython.readthedocs.io/en/stable/api/generated/IPython.html#module-IPython" title="(in IPython v7.13.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IPython</span></code></a>. The APIs of both libraries can be individually quite
overwhelming, and the combination and interaction of the 2 can prove difficult
to stay on top of.</p>
<p>The <a class="reference internal" href="#default_profile.startup.ptoolkit.Helpers" title="default_profile.startup.ptoolkit.Helpers"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Helpers</span></code></a> class defined here gives a useful reference as to the
relationship between a number of the intertwined classes in a running
<code class="xref py py-obj docutils literal notranslate"><span class="pre">PromptSession</span></code>.</p>
<p class="rubric">Notes</p>
<p>Of use might be.:</p>
<blockquote>
<div><p>get_ipython().pt_app.layout</p>
</div></blockquote>
<p>An object that contains the default_buffer, <code class="xref py py-obj docutils literal notranslate"><span class="pre">DEFAULT_BUFFER</span></code>, a reference
to a container <code class="xref py py-obj docutils literal notranslate"><span class="pre">HSplit</span></code> and a few other things possibly worth exploring.</p>
<dl class="function">
<dt id="default_profile.startup.ptoolkit.get_app">
<code class="sig-name descname">get_app</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/ptoolkit.html#get_app"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.ptoolkit.get_app" title="Permalink to this definition">¶</a></dt>
<dd><p>A patch to cover up the fact that get_app() returns a DummyApplication.</p>
</dd></dl>

<dl class="function">
<dt id="default_profile.startup.ptoolkit.get_session">
<code class="sig-name descname">get_session</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/ptoolkit.html#get_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.ptoolkit.get_session" title="Permalink to this definition">¶</a></dt>
<dd><p>A patch to cover up the fact that get_app() returns a DummyApplication.</p>
</dd></dl>

<dl class="class">
<dt id="default_profile.startup.ptoolkit.Helpers">
<em class="property">class </em><code class="sig-name descname">Helpers</code><a class="reference internal" href="../_modules/default_profile/startup/ptoolkit.html#Helpers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.ptoolkit.Helpers" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A class that attempt enumerating the hierarchy of classes in prompt_toolkit.</p>
<dl class="method">
<dt id="default_profile.startup.ptoolkit.Helpers.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/ptoolkit.html#Helpers.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.ptoolkit.Helpers.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the shell, PromptSession and Application.</p>
</dd></dl>

<dl class="method">
<dt id="default_profile.startup.ptoolkit.Helpers.app_kb">
<em class="property">property </em><code class="sig-name descname">app_kb</code><a class="reference internal" href="../_modules/default_profile/startup/ptoolkit.html#Helpers.app_kb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.ptoolkit.Helpers.app_kb" title="Permalink to this definition">¶</a></dt>
<dd><p>Application instance keybindings.</p>
<p>NOT the same as ‘session_kb’.</p>
<p>In [103]: pt.pt_app_kb == pt.session_kb
Out[103]: False</p>
</dd></dl>

<dl class="method">
<dt id="default_profile.startup.ptoolkit.Helpers.session_kb">
<em class="property">property </em><code class="sig-name descname">session_kb</code><a class="reference internal" href="../_modules/default_profile/startup/ptoolkit.html#Helpers.session_kb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.ptoolkit.Helpers.session_kb" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="default_profile.startup.ptoolkit.Helpers.app_layout">
<em class="property">property </em><code class="sig-name descname">app_layout</code><a class="reference internal" href="../_modules/default_profile/startup/ptoolkit.html#Helpers.app_layout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.ptoolkit.Helpers.app_layout" title="Permalink to this definition">¶</a></dt>
<dd><p>The same as session_layout <em>thank god</em>.</p>
<p>In [102]: pt.app_layout == pt.session_layout
Out[102]: True</p>
</dd></dl>

<dl class="method">
<dt id="default_profile.startup.ptoolkit.Helpers.session_layout">
<em class="property">property </em><code class="sig-name descname">session_layout</code><a class="reference internal" href="../_modules/default_profile/startup/ptoolkit.html#Helpers.session_layout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.ptoolkit.Helpers.session_layout" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="default_profile.startup.ptoolkit.Helpers.layout">
<em class="property">property </em><code class="sig-name descname">layout</code><a class="reference internal" href="../_modules/default_profile/startup/ptoolkit.html#Helpers.layout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.ptoolkit.Helpers.layout" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="default_profile.startup.ptoolkit.Helpers.app_style">
<em class="property">property </em><code class="sig-name descname">app_style</code><a class="reference internal" href="../_modules/default_profile/startup/ptoolkit.html#Helpers.app_style"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.ptoolkit.Helpers.app_style" title="Permalink to this definition">¶</a></dt>
<dd><p>Of course it’s not the same as the session_style.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">108</span><span class="p">]:</span> <span class="n">pt</span><span class="o">.</span><span class="n">pt_app</span><span class="o">.</span><span class="n">style</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">108</span><span class="p">]:</span> <span class="o">&lt;</span><span class="n">prompt_toolkit</span><span class="o">.</span><span class="n">styles</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">DynamicStyle</span> <span class="n">at</span> <span class="mh">0x7f164da54f40</span><span class="o">&gt;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">109</span><span class="p">]:</span> <span class="n">pt</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">style</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">109</span><span class="p">]:</span> <span class="o">&lt;</span><span class="n">prompt_toolkit</span><span class="o">.</span><span class="n">styles</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">DynamicStyle</span> <span class="n">at</span> <span class="mh">0x7f1658a90a30</span><span class="o">&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="default_profile.startup.ptoolkit.Helpers.session_style">
<em class="property">property </em><code class="sig-name descname">session_style</code><a class="reference internal" href="../_modules/default_profile/startup/ptoolkit.html#Helpers.session_style"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.ptoolkit.Helpers.session_style" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="default_profile.startup.ptoolkit.Helpers.current_buffer">
<em class="property">property </em><code class="sig-name descname">current_buffer</code><a class="reference internal" href="../_modules/default_profile/startup/ptoolkit.html#Helpers.current_buffer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.ptoolkit.Helpers.current_buffer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="default_profile.startup.ptoolkit.Helpers.current_container">
<em class="property">property </em><code class="sig-name descname">current_container</code><a class="reference internal" href="../_modules/default_profile/startup/ptoolkit.html#Helpers.current_container"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.ptoolkit.Helpers.current_container" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the container attr of the layout.</p>
<p>Typically will return the HSplit defining the layout of the app.</p>
</dd></dl>

<dl class="method">
<dt id="default_profile.startup.ptoolkit.Helpers.current_container_children">
<em class="property">property </em><code class="sig-name descname">current_container_children</code><a class="reference internal" href="../_modules/default_profile/startup/ptoolkit.html#Helpers.current_container_children"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.ptoolkit.Helpers.current_container_children" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of the current container children.</p>
<p>I genuinely don’t think I expected it to be so big.</p>
<div class="admonition-hsplit-children-is-a-lie admonition">
<p class="admonition-title">HSplit.children is a lie.</p>
<p>Use HSplit._all_children</p>
</div>
</dd></dl>

<dl class="method">
<dt id="default_profile.startup.ptoolkit.Helpers.current_control">
<em class="property">property </em><code class="sig-name descname">current_control</code><a class="reference internal" href="../_modules/default_profile/startup/ptoolkit.html#Helpers.current_control"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.ptoolkit.Helpers.current_control" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the layout’s current control. Typically a BufferControl.</p>
</dd></dl>

<dl class="method">
<dt id="default_profile.startup.ptoolkit.Helpers.current_document">
<em class="property">property </em><code class="sig-name descname">current_document</code><a class="reference internal" href="../_modules/default_profile/startup/ptoolkit.html#Helpers.current_document"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.ptoolkit.Helpers.current_document" title="Permalink to this definition">¶</a></dt>
<dd><p>The current buffer’s document.</p>
</dd></dl>

<dl class="method">
<dt id="default_profile.startup.ptoolkit.Helpers.current_buffer_texts">
<em class="property">property </em><code class="sig-name descname">current_buffer_texts</code><a class="reference internal" href="../_modules/default_profile/startup/ptoolkit.html#Helpers.current_buffer_texts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.ptoolkit.Helpers.current_buffer_texts" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the ‘text’ attr of the current buffer as a string.</p>
</dd></dl>

<dl class="method">
<dt id="default_profile.startup.ptoolkit.Helpers.current_document_text">
<em class="property">property </em><code class="sig-name descname">current_document_text</code><a class="reference internal" href="../_modules/default_profile/startup/ptoolkit.html#Helpers.current_document_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.ptoolkit.Helpers.current_document_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the ‘lines’ attr of the current document as a list.</p>
</dd></dl>

<dl class="method">
<dt id="default_profile.startup.ptoolkit.Helpers.current_window">
<em class="property">property </em><code class="sig-name descname">current_window</code><a class="reference internal" href="../_modules/default_profile/startup/ptoolkit.html#Helpers.current_window"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.ptoolkit.Helpers.current_window" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="default_profile.startup.ptoolkit.Helpers.current_content">
<em class="property">property </em><code class="sig-name descname">current_content</code><a class="reference internal" href="../_modules/default_profile/startup/ptoolkit.html#Helpers.current_content"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.ptoolkit.Helpers.current_content" title="Permalink to this definition">¶</a></dt>
<dd><p>The ‘content’ attribute of a <code class="xref py py-obj docutils literal notranslate"><span class="pre">Window</span></code> returns a UIControl instance.</p>
<p>In this specific case, it returns a BufferControl.</p>
</dd></dl>

<dl class="method">
<dt id="default_profile.startup.ptoolkit.Helpers.content_is_control">
<em class="property">property </em><code class="sig-name descname">content_is_control</code><a class="reference internal" href="../_modules/default_profile/startup/ptoolkit.html#Helpers.content_is_control"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.ptoolkit.Helpers.content_is_control" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the <code class="xref py py-obj docutils literal notranslate"><span class="pre">Window</span></code> content the control returned by the layout?</p>
</dd></dl>

<dl class="method">
<dt id="default_profile.startup.ptoolkit.Helpers.session_validator">
<em class="property">property </em><code class="sig-name descname">session_validator</code><a class="reference internal" href="../_modules/default_profile/startup/ptoolkit.html#Helpers.session_validator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.ptoolkit.Helpers.session_validator" title="Permalink to this definition">¶</a></dt>
<dd><p>The validator instance on the PromptSession.</p>
<p class="rubric">Notes</p>
<p>Not only do we not have this attribute on the App, it’s not bound to
anything by default in IPython!</p>
</dd></dl>

<dl class="method">
<dt id="default_profile.startup.ptoolkit.Helpers.validate_validators">
<code class="sig-name descname">validate_validators</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/ptoolkit.html#Helpers.validate_validators"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.ptoolkit.Helpers.validate_validators" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="default_profile.startup.ptoolkit.Helpers.all_controls">
<code class="sig-name descname">all_controls</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/ptoolkit.html#Helpers.all_controls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.ptoolkit.Helpers.all_controls" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="default_profile.startup.ptoolkit.Helpers.app_context">
<code class="sig-name descname">app_context</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/ptoolkit.html#Helpers.app_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.ptoolkit.Helpers.app_context" title="Permalink to this definition">¶</a></dt>
<dd><p>What is this?</p>
<p>Behaves similarly to a dict but won’t display values.:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">ins</span><span class="p">]</span> <span class="n">In</span> <span class="p">[</span><span class="mi">165</span><span class="p">]:</span> <span class="n">_ip</span><span class="o">.</span><span class="n">pt_app</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">context</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">165</span><span class="p">]:</span> <span class="o">&lt;</span><span class="n">Context</span> <span class="n">at</span> <span class="mh">0x7877b7d880</span><span class="o">&gt;</span>

<span class="p">[</span><span class="n">ins</span><span class="p">]</span> <span class="n">In</span> <span class="p">[</span><span class="mi">166</span><span class="p">]:</span> <span class="n">_ip</span><span class="o">.</span><span class="n">pt_app</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">166</span><span class="p">]:</span> <span class="o">&lt;</span><span class="n">items</span> <span class="n">at</span> <span class="mh">0x7877ac00f0</span><span class="o">&gt;</span>

<span class="p">[</span><span class="n">ins</span><span class="p">]</span> <span class="n">In</span> <span class="p">[</span><span class="mi">167</span><span class="p">]:</span> <span class="n">_ip</span><span class="o">.</span><span class="n">pt_app</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">167</span><span class="p">]:</span> <span class="o">&lt;</span><span class="n">keys</span> <span class="n">at</span> <span class="mh">0x7877b46e00</span><span class="o">&gt;</span>

<span class="p">[</span><span class="n">ins</span><span class="p">]</span> <span class="n">In</span> <span class="p">[</span><span class="mi">168</span><span class="p">]:</span> <span class="n">print_formatted_text</span><span class="p">(</span><span class="n">_ip</span><span class="o">.</span><span class="n">pt_app</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">context</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">Context</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x787791c380</span><span class="o">&gt;</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="default_profile.startup.ptoolkit.all_processors_for_searching">
<code class="sig-name descname">all_processors_for_searching</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/ptoolkit.html#all_processors_for_searching"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.ptoolkit.all_processors_for_searching" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of <code class="xref py py-obj docutils literal notranslate"><span class="pre">prompt_toolkit.layout.processor.Processor</span></code>’s.</p>
</dd></dl>

<dl class="function">
<dt id="default_profile.startup.ptoolkit.search_layout">
<code class="sig-name descname">search_layout</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/ptoolkit.html#search_layout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.ptoolkit.search_layout" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a <code class="xref py py-obj docutils literal notranslate"><span class="pre">Layout</span></code> with a <code class="xref py py-obj docutils literal notranslate"><span class="pre">SearchToolbar</span></code> and keybindings.</p>
</dd></dl>

<dl class="function">
<dt id="default_profile.startup.ptoolkit.create_searching_keybindings">
<code class="sig-name descname">create_searching_keybindings</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/ptoolkit.html#create_searching_keybindings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.ptoolkit.create_searching_keybindings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-default_profile.startup.completions">
<span id="completions"></span><h2><a class="reference internal" href="#module-default_profile.startup.completions" title="default_profile.startup.completions"><code class="xref py py-mod docutils literal notranslate"><span class="pre">completions</span></code></a><a class="headerlink" href="#module-default_profile.startup.completions" title="Permalink to this headline">¶</a></h2>
<dl class="data">
<dt id="default_profile.startup.completions.combined_completers">
<code class="sig-name descname">combined_completers</code><a class="headerlink" href="#default_profile.startup.completions.combined_completers" title="Permalink to this definition">¶</a></dt>
<dd><p>A ThreadedCompleter instantiated with a MergedCompleter that combines
FuzzyWordCompleter, FuzzyCompleter, PathCompleter, WordCompleter
and IPython’s IPythonPTCompleter.</p>
</dd></dl>

<p>In addition, autosuggestions are generated in a manner similar to fish from an
<a class="reference external" href="https://python-prompt-toolkit.readthedocs.io/en/stable/pages/reference.html#prompt_toolkit.auto_suggest.AutoSuggestFromHistory" title="(in prompt_toolkit v3.0.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">prompt_toolkit.auto_suggest.AutoSuggestFromHistory</span></code></a> instance wrapped in
a <a class="reference external" href="https://python-prompt-toolkit.readthedocs.io/en/stable/pages/reference.html#prompt_toolkit.auto_suggest.ThreadedAutoSuggest" title="(in prompt_toolkit v3.0.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">prompt_toolkit.auto_suggest.ThreadedAutoSuggest</span></code></a> instance as this
dramatically speeds the completions up.</p>
<dl class="class">
<dt id="default_profile.startup.completions.SimpleCompleter">
<em class="property">class </em><code class="sig-name descname">SimpleCompleter</code><span class="sig-paren">(</span><em class="sig-param">shell=None</em>, <em class="sig-param">min_input_len=0</em>, <em class="sig-param">completer=None</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/completions.html#SimpleCompleter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.completions.SimpleCompleter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">prompt_toolkit.completion.base.Completer</span></code></p>
<p>Building up a customized Completer using the prompt_toolkit API.</p>
<p>Utilizes the <em>min_input_len</em> of the PathCompleter along with
adding more necessary dunders and functionally useful
fallbacks in case of being called incorrectly, rather adding
dozens of assert statements.</p>
<dl class="method">
<dt id="default_profile.startup.completions.SimpleCompleter.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">shell=None</em>, <em class="sig-param">min_input_len=0</em>, <em class="sig-param">completer=None</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/completions.html#SimpleCompleter.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.completions.SimpleCompleter.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="default_profile.startup.completions.SimpleCompleter.user_ns">
<em class="property">property </em><code class="sig-name descname">user_ns</code><a class="reference internal" href="../_modules/default_profile/startup/completions.html#SimpleCompleter.user_ns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.completions.SimpleCompleter.user_ns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="default_profile.startup.completions.SimpleCompleter.document">
<em class="property">property </em><code class="sig-name descname">document</code><a class="reference internal" href="../_modules/default_profile/startup/completions.html#SimpleCompleter.document"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.completions.SimpleCompleter.document" title="Permalink to this definition">¶</a></dt>
<dd><p>Instance of <a class="reference external" href="https://python-prompt-toolkit.readthedocs.io/en/stable/pages/reference.html#prompt_toolkit.document.Document" title="(in prompt_toolkit v3.0.3)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">prompt_toolkit.document.Document</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="default_profile.startup.completions.SimpleCompleter.get_completions">
<code class="sig-name descname">get_completions</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">doc=None</em>, <em class="sig-param">complete_event=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/completions.html#SimpleCompleter.get_completions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.completions.SimpleCompleter.get_completions" title="Permalink to this definition">¶</a></dt>
<dd><p>For now lets not worry about CompleteEvent too much.</p>
<p>But we will need to add a get_async_completions method.</p>
<div class="admonition-todo admonition" id="id2">
<p class="admonition-title">Todo</p>
<p>Possibly alias this to <code class="xref py py-obj docutils literal notranslate"><span class="pre">complete</span></code> for readline compat.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="default_profile.startup.completions.SimpleCompleter.get_completions_async">
<code class="sig-name descname">get_completions_async</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">document: prompt_toolkit.document.Document</em>, <em class="sig-param">complete_event: prompt_toolkit.completion.base.CompleteEvent</em><span class="sig-paren">)</span> &#x2192; AsyncGenerator[prompt_toolkit.completion.base.Completion, NoneType]<a class="reference internal" href="../_modules/default_profile/startup/completions.html#SimpleCompleter.get_completions_async"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.completions.SimpleCompleter.get_completions_async" title="Permalink to this definition">¶</a></dt>
<dd><p>Asynchronous generator of completions.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="default_profile.startup.completions.PathCallable">
<em class="property">class </em><code class="sig-name descname">PathCallable</code><span class="sig-paren">(</span><em class="sig-param">only_directories: bool = False, get_paths: Optional[Callable[[], List[str]]] = None, file_filter: Optional[Callable[[str], bool]] = None, min_input_len: int = 0, expanduser: bool = False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/completions.html#PathCallable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.completions.PathCallable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">prompt_toolkit.completion.filesystem.PathCompleter</span></code></p>
<p>PathCompleter with <code class="docutils literal notranslate"><span class="pre">__call__</span></code> defined.</p>
<p>The expanduser attribute is set to True. Thos can be overridddden in a subclass.</p>
<p>Also why is get_paths part of the publc API? If someones looking for a relative
directory, why wouldn’t you assume that it’s relative <strong>to their current
working directory??</strong></p>
<dl class="attribute">
<dt id="default_profile.startup.completions.PathCallable.expanduser">
<code class="sig-name descname">expanduser</code><em class="property"> = True</em><a class="headerlink" href="#default_profile.startup.completions.PathCallable.expanduser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="default_profile.startup.completions.get_path_completer">
<code class="sig-name descname">get_path_completer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/completions.html#get_path_completer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.completions.get_path_completer" title="Permalink to this definition">¶</a></dt>
<dd><p>Basically took this from Jon’s unit tests.</p>
</dd></dl>

<dl class="function">
<dt id="default_profile.startup.completions.get_fuzzy_keyword_completer">
<code class="sig-name descname">get_fuzzy_keyword_completer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/completions.html#get_fuzzy_keyword_completer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.completions.get_fuzzy_keyword_completer" title="Permalink to this definition">¶</a></dt>
<dd><p>Return FuzzyWordCompleter initialized with all valid Python keywords.</p>
</dd></dl>

<dl class="function">
<dt id="default_profile.startup.completions.get_word_completer">
<code class="sig-name descname">get_word_completer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/completions.html#get_word_completer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.completions.get_word_completer" title="Permalink to this definition">¶</a></dt>
<dd><p>Return WordCompleter initialized with all valid Python keywords.</p>
</dd></dl>

<dl class="function">
<dt id="default_profile.startup.completions.venvs">
<code class="sig-name descname">venvs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/completions.html#venvs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.completions.venvs" title="Permalink to this definition">¶</a></dt>
<dd><p>Use <code class="xref py py-obj docutils literal notranslate"><span class="pre">jedi.api.find_virtualenvs</span></code> and return all values.</p>
</dd></dl>

<dl class="class">
<dt id="default_profile.startup.completions.CustomCompleter">
<em class="property">class </em><code class="sig-name descname">CustomCompleter</code><a class="reference internal" href="../_modules/default_profile/startup/completions.html#CustomCompleter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.completions.CustomCompleter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">prompt_toolkit.completion.base.Completer</span></code></p>
<p>A completer that attempts to meet prompt_toolkits API as generically as possible.</p>
<dl class="method">
<dt id="default_profile.startup.completions.CustomCompleter.get_completions">
<code class="sig-name descname">get_completions</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">document</em>, <em class="sig-param">complete_event</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/completions.html#CustomCompleter.get_completions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.completions.CustomCompleter.get_completions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="default_profile.startup.completions.MergedCompleter">
<em class="property">class </em><code class="sig-name descname">MergedCompleter</code><span class="sig-paren">(</span><em class="sig-param">completers</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/completions.html#MergedCompleter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.completions.MergedCompleter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">prompt_toolkit.completion.base.Completer</span></code></p>
<p>Combine several completers into one.</p>
<dl class="method">
<dt id="default_profile.startup.completions.MergedCompleter.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">completers</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/completions.html#MergedCompleter.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.completions.MergedCompleter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>His <code class="xref py py-obj docutils literal notranslate"><span class="pre">_MergedCompleter</span></code> class without the asserts.</p>
</dd></dl>

<dl class="method">
<dt id="default_profile.startup.completions.MergedCompleter.get_completions">
<code class="sig-name descname">get_completions</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">document</em>, <em class="sig-param">complete_event</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/completions.html#MergedCompleter.get_completions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.completions.MergedCompleter.get_completions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="default_profile.startup.completions.MergedCompleter.get_completions_async">
<code class="sig-name descname">get_completions_async</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">document</em>, <em class="sig-param">complete_event</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/completions.html#MergedCompleter.get_completions_async"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.completions.MergedCompleter.get_completions_async" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all completions from <code class="xref py py-obj docutils literal notranslate"><span class="pre">completers</span></code> in a non-blocking way.</p>
<p>Checks that the completer actually defined this method before calling
it so we don’t force the method definition.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="default_profile.startup.completions.FuzzyCallable">
<em class="property">class </em><code class="sig-name descname">FuzzyCallable</code><span class="sig-paren">(</span><em class="sig-param">completer=None</em>, <em class="sig-param">words=None</em>, <em class="sig-param">meta_dict=None</em>, <em class="sig-param">WORD=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/completions.html#FuzzyCallable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.completions.FuzzyCallable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">prompt_toolkit.completion.fuzzy_completer.FuzzyCompleter</span></code></p>
<p>A FuzzyCompleter with <code class="docutils literal notranslate"><span class="pre">__call__</span></code> defined.</p>
<dl class="method">
<dt id="default_profile.startup.completions.FuzzyCallable.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">completer=None</em>, <em class="sig-param">words=None</em>, <em class="sig-param">meta_dict=None</em>, <em class="sig-param">WORD=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/completions.html#FuzzyCallable.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.completions.FuzzyCallable.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The exact code for FuzzyWordCompleter…except callable.</p>
</dd></dl>

<dl class="method">
<dt id="default_profile.startup.completions.FuzzyCallable.get_completions">
<code class="sig-name descname">get_completions</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">document</em>, <em class="sig-param">complete_event</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/completions.html#FuzzyCallable.get_completions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.completions.FuzzyCallable.get_completions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="default_profile.startup.completions.create_jedi_script">
<code class="sig-name descname">create_jedi_script</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/completions.html#create_jedi_script"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.completions.create_jedi_script" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="default_profile.startup.completions.create_pt_completers">
<code class="sig-name descname">create_pt_completers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/default_profile/startup/completions.html#create_pt_completers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#default_profile.startup.completions.create_pt_completers" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a combination of all the completers in this module.</p>
<p>Still needs to factor in magic completions before its officially
integrated into the rest of the app.</p>
</dd></dl>

</div>
</div>


        </div>
      </div>
    </div>

    <div class="footer" role="contentinfo">
      Last updated on Mar 04, 2020.
    </div>
  </body>
</html>