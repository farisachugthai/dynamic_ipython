
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>default_profile.startup.20_aliases &#8212; Dynamic IPython: version0.0.2</title>
    
    <link rel="stylesheet" href="../../../_static/scrolls.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/print.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../../_static/copybutton.js"></script>
    <script type="text/javascript" src="../../../_static/theme_extras.js"></script>
    <link rel="canonical" href="https://farisachugthai.github.io/dynamic-ipython/_modules/default_profile/startup/20_aliases.html" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
<!-- <link charset="utf-8" href="https://fonts.googleapis.com/css?family=Source+Code+Pro" media="screen" rel="stylesheet" type="text/css" /> -->
<!-- <link charset="utf-8" href="https://fonts.googleapis.com/css?family=Source+Code+Pro:regular,italic,bold,bolditalic" media="screen" rel="stylesheet" type="text/css" /> -->
<head>
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <title>Floating label Demo</title>
  <meta name="description" content="" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style type="text/css">
    /* CSS styles */
    /* Example by Matthias Benkort at http://codepen.io/KtorZ/pen/ZOzdqG */
    @import url(
      https://fonts.googleapis.com/css?family=Roboto:400,
      300,
      500,
      700
    );
    .wrapper {
      align-items: center;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .material-textfield {
      display: inline-block;
      height: 4rem;
      padding-top: 2rem;
    }
    .material-textfield input {
      background: none;
      border: none;
      box-sizing: border-box;
      display: block;
      font-family: Roboto, Arial, sans-serif;
      font-size: 1rem;
      padding: 0.25rem 0.1rem;
      width: 100%;
    }
    .material-textfield input:invalid {
      box-shadow: none;
    }
    .material-textfield input:focus {
      outline: none;
    }
    .material-textfield label {
      display: inline-block;
      font-family: Roboto, Arial, sans-serif;
      font-size: 0;
      pointer-events: none;
      position: relative;
      text-transform: uppercase;
      width: 100%;
    }
    .material-textfield label::before {
      content: attr(data-content);
      position: relative;
      transition: all 0.2s ease;
      will-change: font-size, top;
    }
    .material-textfield label::after {
      bottom: 0.9rem;
      content: "";
      height: 0.3rem;
      left: 50%;
      position: absolute;
      transition: all 0.2s ease;
      width: 0;
      will-change: width, left;
    }
    .material-textfield label::before,
    .material-textfield input[required]:focus ~ label::before {
      font-size: 0.75rem;
      top: -3.25rem;
    }
    .material-textfield input:focus ~ label::after {
      left: 0%;
      width: 100%;
    }
    .material-textfield input:invalid ~ label::before {
      font-size: 1rem;
      top: -2rem;
    }

    .material-textfield.blue input {
      border-bottom: 0.1rem solid #03a9f4;
      color: #0275a8;
    }
    .material-textfield.blue label::after {
      background: #03a9f4;
    }
    .material-textfield.blue label::before,
    .material-textfield.blue input[required]:focus ~ label::before {
      color: #47c4fd;
    }
    .material-textfield.blue input:invalid ~ label::before {
      color: #03a9f4;
    }

    .material-textfield.red input {
      border-bottom: 0.1rem solid #f44336;
      color: #d2190b;
    }
    .material-textfield.red label::after {
      background: #f44336;
    }
    .material-textfield.red label::before,
    .material-textfield.red input[required]:focus ~ label::before {
      color: #f8877f;
    }
    .material-textfield.red input:invalid ~ label::before {
      color: #f44336;
    }
  </style>
</head>

  </head><body> 
    <div id="content">
      <div class="header">
        <h1 class="heading"><a href="../../../index.html"
          title="back to the documentation overview"><span>default_profile.startup.20_aliases</span></a></h1>
      </div>
      <div class="relnav" role="navigation" aria-label="related navigation">
        <a href="#">default_profile.startup.20_aliases</a>
      </div>
      <div id="contentwrapper">
        <div role="main">
        
<h1>Source code for default_profile.startup.20_aliases</h1><div class="highlight"><pre>
<span></span><span class="ch">#!/usr/bin/env python</span>
<span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;Create OS specific aliases to allow a user to use IPython anywhere.&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">shutil</span>
<span class="kn">import</span> <span class="nn">subprocess</span>
<span class="kn">import</span> <span class="nn">traceback</span>

<span class="kn">from</span> <span class="nn">IPython.core.alias</span> <span class="kn">import</span> <span class="n">InvalidAliasError</span>
<span class="kn">from</span> <span class="nn">IPython.core.getipython</span> <span class="kn">import</span> <span class="n">get_ipython</span>
<span class="kn">from</span> <span class="nn">traitlets.config.application</span> <span class="kn">import</span> <span class="n">ApplicationError</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">git</span> <span class="kn">import</span> <span class="n">Git</span>
<span class="k">except</span><span class="p">:</span>
    <span class="n">Git</span> <span class="o">=</span> <span class="kc">None</span>
<span class="k">else</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">git</span> <span class="kn">import</span> <span class="n">Repo</span>


<div class="viewcode-block" id="git_cur_branch"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.git_cur_branch">[docs]</a><span class="k">def</span> <span class="nf">git_cur_branch</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s2">&quot;git&quot;</span><span class="p">,</span> <span class="s2">&quot;rev-parse&quot;</span><span class="p">,</span> <span class="s2">&quot;--abbrev-ref&quot;</span><span class="p">,</span> <span class="s2">&quot;HEAD&quot;</span><span class="p">])</span></div>


<div class="viewcode-block" id="CommonAliases"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.CommonAliases">[docs]</a><span class="k">class</span> <span class="nc">CommonAliases</span><span class="p">:</span>
    <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Add aliases common to all OSes. Overwhelmingly :command:`Git` aliases.</span>

<span class="sd">    This method adds around 100 aliases that can be</span>
<span class="sd">    implemented on most of the major platforms.</span>

<span class="sd">    The only real requirement is Git being installed and working. Docker</span>
<span class="sd">    commands possibly going to be added.</span>

<span class="sd">    .. todo:: :command:`git show`</span>

<span class="sd">    .. todo:: The class method doesn&#39;t work if we don&#39;t have a class attribute.</span>

<span class="sd">        But if we create a class attribute, does updating the aliases for an instance</span>
<span class="sd">        change it for subclasses? Write a test to ensure that this isn&#39;t what</span>
<span class="sd">        happens.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">user_aliases</span> <span class="o">=</span> <span class="p">[]</span>

<div class="viewcode-block" id="CommonAliases.__init__"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.CommonAliases.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;OS Agnostic aliases.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        user_aliases : list of (&#39;alias&#39;, &#39;system command&#39;) tuples</span>
<span class="sd">            User aliases to add the user&#39;s namespace.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shell</span> <span class="o">=</span> <span class="n">shell</span> <span class="ow">or</span> <span class="n">get_ipython</span><span class="p">()</span>

        <span class="c1"># todo: shit this was needs dict to tuple</span>
        <span class="c1"># if kwargs:</span>
        <span class="c1">#     self.tuple_to_dict(kwargs)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_aliases</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_user_aliases</span><span class="p">()</span></div>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generator</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_generator</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">itm</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_aliases</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">itm</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># reprlib?</span>
        <span class="k">return</span> <span class="s2">&quot;&lt;Common Aliases&gt;: # of aliases: </span><span class="si">{!r}</span><span class="s2"> &quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user_aliases</span><span class="p">))</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg1</span><span class="p">):</span>
        <span class="c1"># Todo: Make sure this works</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">[</span><span class="n">arg1</span><span class="p">]</span>

<div class="viewcode-block" id="CommonAliases.set_user_aliases"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.CommonAliases.set_user_aliases">[docs]</a>    <span class="k">def</span> <span class="nf">set_user_aliases</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shell</span><span class="o">.</span><span class="n">alias_manager</span><span class="o">.</span><span class="n">aliases</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">user_aliases</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">shell</span><span class="o">.</span><span class="n">alias_manager</span><span class="o">.</span><span class="n">aliases</span></div>

<div class="viewcode-block" id="CommonAliases.tuple_to_dict"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.CommonAliases.tuple_to_dict">[docs]</a>    <span class="k">def</span> <span class="nf">tuple_to_dict</span><span class="p">(</span><span class="n">tuple_</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Showcasing how to convert a tuple into a dict.</span>

<span class="sd">        Nothing particularly hard, just a good exercise.</span>
<span class="sd">        Also some good docstring practice!</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        color_templates : tuple of tuples</span>
<span class="sd">        Each element maps ANSI escape codes to the colors they represent.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Flattened dict : dict with {str: str} for each element</span>
<span class="sd">            Maps exactly as intended and reduces a little of the nesting.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        ::</span>

<span class="sd">            In [3]: tuple_to_dict(color_templates)</span>
<span class="sd">            Out[14]:</span>
<span class="sd">            {&#39;Black&#39;: &#39;0;30&#39;,</span>
<span class="sd">            &#39;Red&#39;: &#39;0;31&#39;,</span>
<span class="sd">            &#39;Green&#39;: &#39;0;32&#39;,</span>
<span class="sd">            &#39;Brown&#39;: &#39;0;33&#39;,</span>
<span class="sd">            &#39;Blue&#39;: &#39;0;34&#39;,</span>
<span class="sd">            &#39;Purple&#39;: &#39;0;35&#39;,</span>
<span class="sd">            &#39;Cyan&#39;: &#39;0;36&#39;,</span>
<span class="sd">            &#39;LightGray&#39;: &#39;0;37&#39;,</span>
<span class="sd">            &#39;DarkGray&#39;: &#39;1;30&#39;,</span>
<span class="sd">            &#39;LightRed&#39;: &#39;1;31&#39;,</span>
<span class="sd">            &#39;LightGreen&#39;: &#39;1;32&#39;,</span>
<span class="sd">            &#39;Yellow&#39;: &#39;1;33&#39;,</span>
<span class="sd">            &#39;LightBlue&#39;: &#39;1;34&#39;,</span>
<span class="sd">            &#39;LightPurple&#39;: &#39;1;35&#39;,</span>
<span class="sd">            &#39;LightCyan&#39;: &#39;1;36&#39;,</span>
<span class="sd">            &#39;White&#39;: &#39;1;37&#39;,</span>
<span class="sd">            &#39;BlinkBlack&#39;: &#39;5;30&#39;,</span>
<span class="sd">            &#39;BlinkRed&#39;: &#39;5;31&#39;,</span>
<span class="sd">            &#39;BlinkGreen&#39;: &#39;5;32&#39;,</span>
<span class="sd">            &#39;BlinkYellow&#39;: &#39;5;33&#39;,</span>
<span class="sd">            &#39;BlinkBlue&#39;: &#39;5;34&#39;,</span>
<span class="sd">            &#39;BlinkPurple&#39;: &#39;5;35&#39;,</span>
<span class="sd">            &#39;BlinkCyan&#39;: &#39;5;36&#39;,</span>
<span class="sd">            &#39;BlinkLightGray&#39;: &#39;5;37&#39;}</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">tuple_</span><span class="p">):</span>
            <span class="n">ret</span><span class="p">[</span><span class="n">tuple_</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">tuple_</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">ret</span></div>

<div class="viewcode-block" id="CommonAliases.unalias"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.CommonAliases.unalias">[docs]</a>    <span class="k">def</span> <span class="nf">unalias</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remove an alias.</span>

<span class="sd">        .. magic:: unalias</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        alias : Alias to remove</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shell</span><span class="o">.</span><span class="n">run_line_magic</span><span class="p">(</span><span class="s2">&quot;unalias&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="p">)</span></div>

<div class="viewcode-block" id="CommonAliases.python_exes"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.CommonAliases.python_exes">[docs]</a>    <span class="k">def</span> <span class="nf">python_exes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Python executables like pydoc get executed in a subprocess currently.</span>

<span class="sd">        Let&#39;s fix that behavior because that&#39;s silly.</span>

<span class="sd">        So this method may have exposed a big problem in the way these data</span>
<span class="sd">        structures are set up. It&#39;d be way smarter to have this set up like</span>
<span class="sd">        dictionaries.</span>

<span class="sd">        I want to do a check for if pydoc and apropos are in teh aliases.</span>
<span class="sd">        But if we iterate over the list then we still get a tuple.</span>
<span class="sd">        We could do something like::</span>

<span class="sd">            for i in self.user_aliases:</span>
<span class="sd">                if i[0] == &#39;pydoc&#39;:</span>
<span class="sd">                    self.unalias(&#39;pydoc&#39;)</span>

<span class="sd">        But that&#39;s clunky because we&#39;re forced to iterate over all aliases.</span>
<span class="sd">        Then we could try and do something like a merge sort to find pydoc</span>
<span class="sd">        and apropos quickly but jeez that&#39;s gonna get complicated kinda quick</span>
<span class="sd">        don&#39;t you think?</span>

<span class="sd">        .. todo::</span>
<span class="sd">            os.environ =&gt; env</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s2">&quot;pydoc&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_aliases</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">unalias</span><span class="p">(</span><span class="s2">&quot;pydoc&quot;</span><span class="p">)</span>
            <span class="kn">import</span> <span class="nn">pydoc</span>
        <span class="k">if</span> <span class="s2">&quot;apropos&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_aliases</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">unalias</span><span class="p">(</span><span class="s2">&quot;apropos&quot;</span><span class="p">)</span>
            <span class="kn">from</span> <span class="nn">pydoc</span> <span class="kn">import</span> <span class="n">apropos</span>
        <span class="k">if</span> <span class="s2">&quot;which&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_aliases</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">unalias</span><span class="p">(</span><span class="s2">&quot;which&quot;</span><span class="p">)</span>
            <span class="kn">from</span> <span class="nn">shutil</span> <span class="kn">import</span> <span class="n">which</span>
        <span class="k">if</span> <span class="s2">&quot;chown&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_aliases</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">shutil</span> <span class="kn">import</span> <span class="n">chown</span></div>

<div class="viewcode-block" id="CommonAliases.git"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.CommonAliases.git">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">git</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;100+ git aliases.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        Aliases of note.</span>

<span class="sd">        - gcls: git clone [url]</span>

<span class="sd">            - This uses the ``%s`` argument to indicate it requires 1 and only 1 argument as git clone does</span>

<span class="sd">            - Note this is in contrast to gcl, or git clone, as that can have additional options specified</span>

<span class="sd">        - gcim: git commit --message [message]</span>

<span class="sd">            - Also uses ``%s``</span>

<span class="sd">        Unless otherwise noted every alias uses ``%l`` to allow the user to specify</span>
<span class="sd">        any relevant options or flags on the command line as necessary.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        user_aliases : A list of tuples</span>
<span class="sd">            The format of IPython aliases got taken it&#39;s logical conclusion</span>
<span class="sd">            and probably pushed a little further than that.</span>

<span class="sd">            In order to make new subcommands in a way similar to how git allows</span>
<span class="sd">            one to come up with aliases, I first tried using whitespace in</span>
<span class="sd">            the alias.::</span>

<span class="sd">                (&#39;git last&#39;, &#39;git log -1 HEAD %l&#39;)</span>

<span class="sd">            However that simply registers the word ``git`` as an alias and then</span>
<span class="sd">            sends ``git last`` to the underlying shell, which it may or may</span>
<span class="sd">            not recognize.</span>

<span class="sd">            Therefore I tried using a hyphen to separate the words, but the</span>
<span class="sd">            python interpreter uses hyphens as well as whitespace to separate</span>
<span class="sd">            keywords, and as a result, would split the alias in the middle of</span>
<span class="sd">            the command.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        ::</span>

<span class="sd">            In [58]: %git_staged?</span>
<span class="sd">            Object `staged` not found.</span>

<span class="sd">            In [60]: %git_staged?</span>
<span class="sd">            Object `%git_staged` not found.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">user_aliases</span> <span class="o">+=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s2">&quot;g&quot;</span><span class="p">,</span> <span class="s2">&quot;git diff --staged --stat %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ga&quot;</span><span class="p">,</span> <span class="s2">&quot;git add -v %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gaa&quot;</span><span class="p">,</span> <span class="s2">&quot;git add --all %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gai&quot;</span><span class="p">,</span> <span class="s2">&quot;git add --interactive %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gap&quot;</span><span class="p">,</span> <span class="s2">&quot;git add --patch %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gar&quot;</span><span class="p">,</span> <span class="s2">&quot;git add --renormalize %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gau&quot;</span><span class="p">,</span> <span class="s2">&quot;git add --update %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ga.&quot;</span><span class="p">,</span> <span class="s2">&quot;git add .&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gb&quot;</span><span class="p">,</span> <span class="s2">&quot;git branch -avv %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gbl&quot;</span><span class="p">,</span> <span class="s2">&quot;git blame %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gbr&quot;</span><span class="p">,</span> <span class="s2">&quot;git branch %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gbrd&quot;</span><span class="p">,</span> <span class="s2">&quot;git branch -d %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gbrD&quot;</span><span class="p">,</span> <span class="s2">&quot;git branch -D %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gbrrd&quot;</span><span class="p">,</span> <span class="s2">&quot;git branch -rd %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gbrrD&quot;</span><span class="p">,</span> <span class="s2">&quot;git branch -rD %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gbru&quot;</span><span class="p">,</span> <span class="s2">&quot;git branch --set-upstream-to --verbose origin %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gbrv&quot;</span><span class="p">,</span> <span class="s2">&quot;git branch --all --verbose --remote %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gci&quot;</span><span class="p">,</span> <span class="s2">&quot;git commit %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gcia&quot;</span><span class="p">,</span> <span class="s2">&quot;git commit --amend %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gciad&quot;</span><span class="p">,</span> <span class="s2">&quot;git commit --amend --date=%l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gcid&quot;</span><span class="p">,</span> <span class="s2">&quot;git commit --date=%l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gcim&quot;</span><span class="p">,</span> <span class="s2">&quot;git commit --verbose --message </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gcl&quot;</span><span class="p">,</span> <span class="s2">&quot;git clone --progress %l&quot;</span><span class="p">),</span>
            <span class="p">(</span>
                <span class="s2">&quot;gcls&quot;</span><span class="p">,</span>
                <span class="s2">&quot;git clone --progress --depth 1 --single-branch --branch master </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gco&quot;</span><span class="p">,</span> <span class="s2">&quot;git checkout %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gcob&quot;</span><span class="p">,</span> <span class="s2">&quot;git checkout -b %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gd&quot;</span><span class="p">,</span> <span class="s2">&quot;git diff %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gds&quot;</span><span class="p">,</span> <span class="s2">&quot;git diff --staged %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gds2&quot;</span><span class="p">,</span> <span class="s2">&quot;git diff --staged --stat %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gdt&quot;</span><span class="p">,</span> <span class="s2">&quot;git difftool %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gdw&quot;</span><span class="p">,</span> <span class="s2">&quot;git diff --word-diff %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gf&quot;</span><span class="p">,</span> <span class="s2">&quot;git fetch --all %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gfe&quot;</span><span class="p">,</span> <span class="s2">&quot;git fetch %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ggc&quot;</span><span class="p">,</span> <span class="s2">&quot;git gc %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ggcp&quot;</span><span class="p">,</span> <span class="s2">&quot;git gc --prune %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;git&quot;</span><span class="p">,</span> <span class="s2">&quot;git %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;git_config_list&quot;</span><span class="p">,</span> <span class="s2">&quot;git config --get --global %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;git_config_glob&quot;</span><span class="p">,</span> <span class="s2">&quot;git config --get-regex --global %l.*&quot;</span><span class="p">),</span>
            <span class="c1"># If you&#39;re on a topic branch, shows commit msgs since split</span>
            <span class="p">(</span><span class="s2">&quot;git_fork&quot;</span><span class="p">,</span> <span class="s2">&quot;git show-branch --current %l&quot;</span><span class="p">),</span>
            <span class="p">(</span>
                <span class="s2">&quot;git_hist&quot;</span><span class="p">,</span>
                <span class="s1">&#39;git log --pretty=&quot;format:%h </span><span class="si">%a</span><span class="s1">d | </span><span class="si">%d</span><span class="s1"> [</span><span class="si">%a</span><span class="s1">n]&quot; --graph --date=short &#39;</span>
                <span class="s2">&quot;--branches --abbrev-commit --oneline %l&quot;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;git_last_msg&quot;</span><span class="p">,</span> <span class="s2">&quot;git log -1 HEAD -- .&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;git_last_patch&quot;</span><span class="p">,</span> <span class="s2">&quot;git show --source&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;git_staged&quot;</span><span class="p">,</span> <span class="s2">&quot;git diff --cached %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;git_rel&quot;</span><span class="p">,</span> <span class="s2">&quot;git rev-parse --show-prefix %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;git_root&quot;</span><span class="p">,</span> <span class="s2">&quot;git rev-parse --show-toplevel %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;git_unstage&quot;</span><span class="p">,</span> <span class="s2">&quot;git reset HEAD %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;git_unstaged&quot;</span><span class="p">,</span> <span class="s2">&quot;git diff %l&quot;</span><span class="p">),</span>
            <span class="p">(</span>
                <span class="s2">&quot;gl&quot;</span><span class="p">,</span>
                <span class="s1">&#39;git log --pretty=format:&quot;%Cred</span><span class="si">%h%</span><span class="s1">Creset %C(yellow)</span><span class="si">%d</span><span class="s1">%Creset %Cgreen(</span><span class="si">%c</span><span class="s1">r) %C(bold blue)&lt;</span><span class="si">%a</span><span class="s1">n&gt;%Creset&quot; --all --abbrev-commit --abbrev=7 --date=relative --graph --decorate %l&#39;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;glo&quot;</span><span class="p">,</span> <span class="s2">&quot;git log %l&quot;</span><span class="p">),</span>
            <span class="p">(</span>
                <span class="s2">&quot;glog&quot;</span><span class="p">,</span>
                <span class="s1">&#39;git log --pretty=&quot;format:%h </span><span class="si">%a</span><span class="s1">d | </span><span class="si">%d</span><span class="s1"> [</span><span class="si">%a</span><span class="s1">n]&quot; --graph --decorate --abbrev-commit --oneline --branches %l&#39;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gls&quot;</span><span class="p">,</span> <span class="s2">&quot;git ls-tree master %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;git ls&quot;</span><span class="p">,</span> <span class="s2">&quot;git ls-tree master %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gm&quot;</span><span class="p">,</span> <span class="s2">&quot;git merge --no-ff %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gma&quot;</span><span class="p">,</span> <span class="s2">&quot;git merge --abort %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gmc&quot;</span><span class="p">,</span> <span class="s2">&quot;git merge --continue %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gmm&quot;</span><span class="p">,</span> <span class="s2">&quot;git merge --no-ff master %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gmt&quot;</span><span class="p">,</span> <span class="s2">&quot;git mergetool %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gp&quot;</span><span class="p">,</span> <span class="s2">&quot;git pull --all %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gpo&quot;</span><span class="p">,</span> <span class="s2">&quot;git pull origin %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gpom&quot;</span><span class="p">,</span> <span class="s2">&quot;git pull origin master %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gpu&quot;</span><span class="p">,</span> <span class="s2">&quot;git push %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gr&quot;</span><span class="p">,</span> <span class="s2">&quot;git remote -v %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;grb&quot;</span><span class="p">,</span> <span class="s2">&quot;git rebase %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;grba&quot;</span><span class="p">,</span> <span class="s2">&quot;git rebase --abort %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;grbc&quot;</span><span class="p">,</span> <span class="s2">&quot;git rebase --continue %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;grbi&quot;</span><span class="p">,</span> <span class="s2">&quot;git rebase --interactive %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gre&quot;</span><span class="p">,</span> <span class="s2">&quot;git remote %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gs&quot;</span><span class="p">,</span> <span class="s2">&quot;git status %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gsh&quot;</span><span class="p">,</span> <span class="s2">&quot;git stash %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gsha&quot;</span><span class="p">,</span> <span class="s2">&quot;git stash apply %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gshc&quot;</span><span class="p">,</span> <span class="s2">&quot;git stash clear %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gshd&quot;</span><span class="p">,</span> <span class="s2">&quot;git stash drop %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gshl&quot;</span><span class="p">,</span> <span class="s2">&quot;git stash list %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gshp&quot;</span><span class="p">,</span> <span class="s2">&quot;git stash pop %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gshs&quot;</span><span class="p">,</span> <span class="s2">&quot;git stash show --stat %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gshsp&quot;</span><span class="p">,</span> <span class="s2">&quot;git stash show --patch %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gss&quot;</span><span class="p">,</span> <span class="s2">&quot;git status -sb %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gst&quot;</span><span class="p">,</span> <span class="s2">&quot;git diff --stat %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gsw&quot;</span><span class="p">,</span> <span class="s2">&quot;git switch --progress %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gswm&quot;</span><span class="p">,</span> <span class="s2">&quot;git switch --progress master %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gt&quot;</span><span class="p">,</span> <span class="s2">&quot;git tag --list %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gtd&quot;</span><span class="p">,</span> <span class="s2">&quot;git tag --delete %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;lswitch&quot;</span><span class="p">,</span> <span class="s2">&quot;legit switch&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;lsync&quot;</span><span class="p">,</span> <span class="s2">&quot;legit sync&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;lpublish&quot;</span><span class="p">,</span> <span class="s2">&quot;legit publish&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;lunpublish&quot;</span><span class="p">,</span> <span class="s2">&quot;legit unpublish&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;lundo&quot;</span><span class="p">,</span> <span class="s2">&quot;legit undo&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;lbranches&quot;</span><span class="p">,</span> <span class="s2">&quot;legit branches&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ssh-day&quot;</span><span class="p">,</span> <span class="s1">&#39;eval &quot;$(ssh-agent -s)&quot;; ssh-add %l&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;xx&quot;</span><span class="p">,</span> <span class="s2">&quot;quit&quot;</span><span class="p">),</span>  <span class="c1"># this is a sweet one</span>
            <span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">,</span> <span class="s2">&quot;cd ..&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;...&quot;</span><span class="p">,</span> <span class="s2">&quot;cd ../..&quot;</span><span class="p">),</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">user_aliases</span></div></div>


<div class="viewcode-block" id="LinuxAliases"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.LinuxAliases">[docs]</a><span class="k">class</span> <span class="nc">LinuxAliases</span><span class="p">(</span><span class="n">CommonAliases</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Add Linux specific aliases.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="LinuxAliases.__init__"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.LinuxAliases.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">aliases</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The WindowsAliases implementation of this is odd so maybe branch off.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        user_aliases : list of (&#39;alias&#39;, &#39;system command&#39;) tuples</span>
<span class="sd">            User aliases to add the user&#39;s namespace.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">busybox</span><span class="p">()</span></div>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;Linux Aliases: </span><span class="si">{!r}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user_aliases</span><span class="p">))</span>

<div class="viewcode-block" id="LinuxAliases.busybox"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.LinuxAliases.busybox">[docs]</a>    <span class="k">def</span> <span class="nf">busybox</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Commands that are available on any Unix-ish system.</span>

<span class="sd">        Apparently, I don&#39;t know how to use classmethods.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        user_aliases : list of (&#39;alias&#39;, &#39;system command&#39;) tuples</span>
<span class="sd">            User aliases to add the user&#39;s namespace.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user_aliases</span> <span class="o">+=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s2">&quot;cs&quot;</span><span class="p">,</span> <span class="s2">&quot;cd </span><span class="si">%s</span><span class="s2"> &amp;&amp; ls -F --color=always </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;cp&quot;</span><span class="p">,</span> <span class="s2">&quot;cp -v %l&quot;</span><span class="p">),</span>  <span class="c1"># cp mv mkdir and rmdir are all overridden</span>
            <span class="p">(</span><span class="s2">&quot;df&quot;</span><span class="p">,</span> <span class="s2">&quot;df -ah --total&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;dU&quot;</span><span class="p">,</span> <span class="s2">&quot;du -d 1 -h --apparent-size --all | sort -h | tail -n 10&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;dus&quot;</span><span class="p">,</span> <span class="s2">&quot;du -d 1 -ha %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;echo&quot;</span><span class="p">,</span> <span class="s2">&quot;echo -e %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;free&quot;</span><span class="p">,</span> <span class="s2">&quot;free -mt&quot;</span><span class="p">),</span>
            <span class="p">(</span>
                <span class="s2">&quot;gpip&quot;</span><span class="p">,</span>
                <span class="s2">&quot;export PIP_REQUIRE_VIRTUALENV=0; python -m pip %l; export PIP_REQUIRE_VIRTUALENV=1 &gt; /dev/null&quot;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="p">(</span>
                <span class="s2">&quot;gpip2&quot;</span><span class="p">,</span>
                <span class="s2">&quot;export PIP_REQUIRE_VIRTUALENV=0; python2 -m pip %l; export PIP_REQUIRE_VIRTUALENV=1 &gt; /dev/null&quot;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="p">(</span>
                <span class="s2">&quot;gpip3&quot;</span><span class="p">,</span>
                <span class="s2">&quot;export PIP_REQUIRE_VIRTUALENV=0; python3 -m pip %l; export PIP_REQUIRE_VIRTUALENV=1 &gt; /dev/null&quot;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;head&quot;</span><span class="p">,</span> <span class="s2">&quot;head -n 30 %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;l&quot;</span><span class="p">,</span> <span class="s2">&quot;ls -CF --color=always %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;la&quot;</span><span class="p">,</span> <span class="s2">&quot;ls -AF --color=always %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ldir&quot;</span><span class="p">,</span> <span class="s2">&quot;ls -Apo --color=always %l | grep /$&quot;</span><span class="p">),</span>
            <span class="c1"># (&#39;lf&#39;, &#39;ls -Fo --color=always | grep ^-&#39;),</span>
            <span class="c1"># (&#39;ll&#39;, &#39;ls -AFho --color=always %l&#39;),</span>
            <span class="p">(</span><span class="s2">&quot;ls&quot;</span><span class="p">,</span> <span class="s2">&quot;ls -F --color=always %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;lr&quot;</span><span class="p">,</span> <span class="s2">&quot;ls -AgFhtr --color=always %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;lt&quot;</span><span class="p">,</span> <span class="s2">&quot;ls -AgFht --color=always %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;lx&quot;</span><span class="p">,</span> <span class="s2">&quot;ls -Fo --color=always | grep ^-..x&quot;</span><span class="p">),</span>
            <span class="c1"># (&#39;ldir&#39;, &#39;ls -Fhpo | grep /$ %l&#39;),</span>
            <span class="p">(</span><span class="s2">&quot;lf&quot;</span><span class="p">,</span> <span class="s2">&quot;ls -Foh --color=always | grep ^- %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ll&quot;</span><span class="p">,</span> <span class="s2">&quot;ls -AgFh --color=always %l&quot;</span><span class="p">),</span>
            <span class="c1"># (&#39;lt&#39;, &#39;ls -Altc --color=always %l&#39;),</span>
            <span class="c1"># (&#39;lr&#39;, &#39;ls -Altcr --color=always %l&#39;),</span>
            <span class="p">(</span><span class="s2">&quot;mk&quot;</span><span class="p">,</span> <span class="s2">&quot;mkdir -pv %l &amp;&amp; cd %l&quot;</span><span class="p">),</span>  <span class="c1"># check if this works. only mkdir</span>
            <span class="p">(</span><span class="s2">&quot;mkdir&quot;</span><span class="p">,</span> <span class="s2">&quot;mkdir -pv %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;mv&quot;</span><span class="p">,</span> <span class="s2">&quot;mv -v %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="s2">&quot;fc -s&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;redo&quot;</span><span class="p">,</span> <span class="s2">&quot;fc -s&quot;</span><span class="p">),</span>
            <span class="c1"># Less annoying than -i but more safe</span>
            <span class="c1"># only prompts with more than 3 files or recursed dirs.</span>
            <span class="p">(</span><span class="s2">&quot;rm&quot;</span><span class="p">,</span> <span class="s2">&quot;rm -Iv %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;rmdir&quot;</span><span class="p">,</span> <span class="s2">&quot;rmdir -v %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;default_profile&quot;</span><span class="p">,</span> <span class="s2">&quot;cd ~/projects/dotfiles/unix/.ipython/default_profile&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;startup&quot;</span><span class="p">,</span> <span class="s2">&quot;cd ~/projects/dotfiles/unix/.ipython/default_profile/startup&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;tail&quot;</span><span class="p">,</span> <span class="s2">&quot;tail -n 30 %l&quot;</span><span class="p">),</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_aliases</span></div>

<div class="viewcode-block" id="LinuxAliases.thirdparty"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.LinuxAliases.thirdparty">[docs]</a>    <span class="k">def</span> <span class="nf">thirdparty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Contrasted to busybox, these require external installation.</span>

<span class="sd">        As a result it&#39;ll be of value to check that they&#39;re even in</span>
<span class="sd">        the namespace.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user_aliases</span> <span class="o">+=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s2">&quot;ag&quot;</span><span class="p">,</span> <span class="s2">&quot;ag --hidden --color --no-column %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="s2">&quot;bat %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;nvim&quot;</span><span class="p">,</span> <span class="s2">&quot;nvim %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;nman&quot;</span><span class="p">,</span> <span class="s1">&#39;nvim -c &quot;Man %l&quot; -c&quot;wincmd T&quot;&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;tre&quot;</span><span class="p">,</span> <span class="s2">&quot;tree -DAshFC --prune -I .git %l&quot;</span><span class="p">),</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_aliases</span></div></div>


<div class="viewcode-block" id="WindowsAliases"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.WindowsAliases">[docs]</a><span class="k">class</span> <span class="nc">WindowsAliases</span><span class="p">(</span><span class="n">CommonAliases</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Aggregated Window aliases. Provides simplified system calls for NT.</span>

<span class="sd">    Methods</span>
<span class="sd">    -------</span>
<span class="sd">    Implements aliases specific to cmd or powershell.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    Would it be useful to subclass :class:`reprlib.Repr` here?</span>

<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="WindowsAliases.__init__"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.WindowsAliases.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">aliases</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize the platform specific alias manager with IPython.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        shell : str (external command), optional</span>
<span class="sd">            The command used to invoke the system shell. If none</span>
<span class="sd">            is provided during instantiation, the function will</span>
<span class="sd">            set :attr:`WindowsAliases.shell` to the</span>
<span class="sd">            |ip| instance.</span>

<span class="sd">        user_aliases : list of (&#39;alias&#39;, &#39;system command&#39;) tuples</span>
<span class="sd">            User aliases to add the user&#39;s namespace.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">aliases</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">user_aliases</span> <span class="o">=</span> <span class="n">aliases</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">user_aliases</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_user_aliases</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shell</span> <span class="o">=</span> <span class="n">shell</span> <span class="ow">or</span> <span class="n">get_ipython</span><span class="p">()</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_find_exe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exe</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Use :func:`shutil.which` to determine whether an executable exists.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        exe : command, optional</span>
<span class="sd">            The command to check.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        path : str (path-like)</span>
<span class="sd">            Where the executable is located.</span>

<span class="sd">        Note</span>
<span class="sd">        ----</span>
<span class="sd">        shutil.which actually checks :envvar:`PATHEXT`! That&#39;s real nice.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">shutil</span><span class="o">.</span><span class="n">which</span><span class="p">(</span><span class="n">exe</span><span class="p">)</span> <span class="ow">or</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;Windows Aliases: </span><span class="si">{!r}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user_aliases</span><span class="p">))</span>

<div class="viewcode-block" id="WindowsAliases.cmd_aliases"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.WindowsAliases.cmd_aliases">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">cmd_aliases</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Aliases for the :command:`cmd` shell.</span>

<span class="sd">        .. todo:: Cmd, :envvar:`COPYCMD` and IPython</span>

<span class="sd">            Need to consider how to handle env vars. Still working out how</span>
<span class="sd">            IPython&#39;s logic for Window&#39;s shells works, but that&#39;ll determine</span>
<span class="sd">            how :envvar:`SHELL` and :envvar:`COMSPEC` are handled.</span>

<span class="sd">        .. note:: Windows environment variables</span>

<span class="sd">            However it&#39;ll also take some consideration to figure</span>
<span class="sd">            out how to handle env vars like :envvar:`COPYCMD`. Should we</span>
<span class="sd">            build them into the aliases we have here because</span>
<span class="sd">            that&#39;ll affect :data:`_ip.user_aliases.mv`?</span>

<span class="sd">        Also note :envvar:`DIRCMD` for :command:`dir`.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">user_aliases</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s2">&quot;assoc&quot;</span><span class="p">,</span> <span class="s2">&quot;assoc %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;control&quot;</span><span class="p">,</span> <span class="s2">&quot;control %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;controlpanel&quot;</span><span class="p">,</span> <span class="s2">&quot;control %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;copy&quot;</span><span class="p">,</span> <span class="s2">&quot;copy </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;cp&quot;</span><span class="p">,</span> <span class="s2">&quot;copy </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;cpanel&quot;</span><span class="p">,</span> <span class="s2">&quot;control %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ddir&quot;</span><span class="p">,</span> <span class="s2">&quot;dir /ad /on %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;echo&quot;</span><span class="p">,</span> <span class="s2">&quot;echo %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ldir&quot;</span><span class="p">,</span> <span class="s2">&quot;dir /ad /on %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ll&quot;</span><span class="p">,</span> <span class="s2">&quot;dir /Q %l&quot;</span><span class="p">),</span>
            <span class="c1"># I know this really isn&#39;t the same but I need it</span>
            <span class="p">(</span><span class="s2">&quot;ln&quot;</span><span class="p">,</span> <span class="s2">&quot;mklink </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;make&quot;</span><span class="p">,</span> <span class="s2">&quot;make.bat %l&quot;</span><span class="p">),</span>  <span class="c1"># Useful when we&#39;re building docs</span>
            <span class="p">(</span><span class="s2">&quot;mklink&quot;</span><span class="p">,</span> <span class="s2">&quot;mklink </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;move&quot;</span><span class="p">,</span> <span class="s2">&quot;move </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;mv&quot;</span><span class="p">,</span> <span class="s2">&quot;move </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;path&quot;</span><span class="p">,</span> <span class="s2">&quot;path %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ren&quot;</span><span class="p">,</span> <span class="s2">&quot;ren %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;rm&quot;</span><span class="p">,</span> <span class="s2">&quot;del %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;rmdir&quot;</span><span class="p">,</span> <span class="s2">&quot;rmdir %l&quot;</span><span class="p">),</span>
            <span class="c1"># i&#39;ll admit this is specific but I&#39;m NEVER gonna remember it</span>
            <span class="p">(</span><span class="s2">&quot;rmdir -r&quot;</span><span class="p">,</span> <span class="s2">&quot;rmdir /S %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;sfc&quot;</span><span class="p">,</span> <span class="s2">&quot;sfc %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;tasklist&quot;</span><span class="p">,</span> <span class="s2">&quot;tasklist %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;taskkill&quot;</span><span class="p">,</span> <span class="s2">&quot;taskkill %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;tree&quot;</span><span class="p">,</span> <span class="s2">&quot;tree /A /F %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;where&quot;</span><span class="p">,</span> <span class="s2">&quot;where %l&quot;</span><span class="p">),</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">user_aliases</span></div>

<div class="viewcode-block" id="WindowsAliases.powershell_aliases"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.WindowsAliases.powershell_aliases">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">powershell_aliases</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Aliases for Windows OSes using :command:`powershell`.</span>

<span class="sd">        Has only been tested on Windows 10 in a heavily configured environment.</span>

<span class="sd">        Niceties such as Git for Windows, ag-silversearcher, ripgrep,</span>
<span class="sd">        ConEmu and others have been added.</span>

<span class="sd">        The minimum number of assumptions possible have been made; however, note</span>
<span class="sd">        that this section is still under development and frequently changes.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">user_aliases</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s2">&quot;ac&quot;</span><span class="p">,</span> <span class="s2">&quot;Add-Content %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;asnp&quot;</span><span class="p">,</span> <span class="s2">&quot;Add-PSSnapin %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="s2">&quot;Get-Content %l&quot;</span><span class="p">),</span>
            <span class="c1"># (&#39;cd&#39;, &#39;Set-Location %l&#39;),</span>
            <span class="p">(</span><span class="s2">&quot;clc&quot;</span><span class="p">,</span> <span class="s2">&quot;Clear-Content %l&quot;</span><span class="p">),</span>
            <span class="c1"># (&#39;clear&#39;, &#39;Clear-History %l&#39;),</span>
            <span class="p">(</span><span class="s2">&quot;conda env&quot;</span><span class="p">,</span> <span class="s2">&quot;Get-Conda-Environment %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;copy&quot;</span><span class="p">,</span> <span class="s2">&quot;Copy-Item %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;cp&quot;</span><span class="p">,</span> <span class="s2">&quot;Copy-Item %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;del&quot;</span><span class="p">,</span> <span class="s2">&quot;Remove-Item %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;dir&quot;</span><span class="p">,</span> <span class="s2">&quot;Get-ChildItem %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;echo&quot;</span><span class="p">,</span> <span class="s2">&quot;Write-Output %l&quot;</span><span class="p">),</span>
            <span class="c1"># (&#39;history&#39;, &#39;Get-History %l&#39;),</span>
            <span class="p">(</span><span class="s2">&quot;kill&quot;</span><span class="p">,</span> <span class="s2">&quot;Stop-Process&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;l&quot;</span><span class="p">,</span> <span class="s2">&quot;Get-ChildItem %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ll&quot;</span><span class="p">,</span> <span class="s2">&quot;GetChildItem -Verbose %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ls&quot;</span><span class="p">,</span> <span class="s2">&quot;Get-ChildItem %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;man&quot;</span><span class="p">,</span> <span class="s2">&quot;Get-Help %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;md&quot;</span><span class="p">,</span> <span class="s2">&quot;mkdir %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;move&quot;</span><span class="p">,</span> <span class="s2">&quot;Move-Item %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;mv&quot;</span><span class="p">,</span> <span class="s2">&quot;Move-Item %l&quot;</span><span class="p">),</span>
            <span class="c1"># (&#39;popd&#39;, &#39;Pop-Location %l&#39;),</span>
            <span class="p">(</span><span class="s2">&quot;pro&quot;</span><span class="p">,</span> <span class="s2">&quot;nvim $Profile.CurrentUserAllHosts&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ps&quot;</span><span class="p">,</span> <span class="s2">&quot;Get-Process %l&quot;</span><span class="p">),</span>
            <span class="c1"># (&#39;pushd&#39;, &#39;Push-Location %l&#39;),</span>
            <span class="c1"># (&#39;pwd&#39;, &#39;Get-Location %l&#39;),</span>
            <span class="p">(</span><span class="s2">&quot;ren&quot;</span><span class="p">,</span> <span class="s2">&quot;Rename-Item %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;rm&quot;</span><span class="p">,</span> <span class="s2">&quot;Remove-Item %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;rmdir&quot;</span><span class="p">,</span> <span class="s2">&quot;Remove-Item %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;rp&quot;</span><span class="p">,</span> <span class="s2">&quot;Remove-ItemProperty %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;rsn&quot;</span><span class="p">,</span> <span class="s2">&quot;Remove-PSSession %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;rv&quot;</span><span class="p">,</span> <span class="s2">&quot;Remove-Variable %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;rvpa&quot;</span><span class="p">,</span> <span class="s2">&quot;Resolve-Path %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;sajb&quot;</span><span class="p">,</span> <span class="s2">&quot;Start-Job %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;sal&quot;</span><span class="p">,</span> <span class="s2">&quot;Set-Alias %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;saps&quot;</span><span class="p">,</span> <span class="s2">&quot;Start-Process %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;sasv&quot;</span><span class="p">,</span> <span class="s2">&quot;Start-Service %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;sbp&quot;</span><span class="p">,</span> <span class="s2">&quot;Set-PSBreakpoint %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;select&quot;</span><span class="p">,</span> <span class="s2">&quot;Select-Object %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;set&quot;</span><span class="p">,</span> <span class="s2">&quot;Set-Variable %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;si&quot;</span><span class="p">,</span> <span class="s2">&quot;Set-Item %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;sl&quot;</span><span class="p">,</span> <span class="s2">&quot;Set-Location %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;sleep&quot;</span><span class="p">,</span> <span class="s2">&quot;Start-Sleep %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;sls&quot;</span><span class="p">,</span> <span class="s2">&quot;Select-String %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;sort&quot;</span><span class="p">,</span> <span class="s2">&quot;Sort-Object %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;sp&quot;</span><span class="p">,</span> <span class="s2">&quot;Set-ItemProperty %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;spjb&quot;</span><span class="p">,</span> <span class="s2">&quot;Stop-Job %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;spps&quot;</span><span class="p">,</span> <span class="s2">&quot;Stop-Process %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;spsv&quot;</span><span class="p">,</span> <span class="s2">&quot;Stop-Service %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;start&quot;</span><span class="p">,</span> <span class="s2">&quot;Start-Process %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;stz&quot;</span><span class="p">,</span> <span class="s2">&quot;Set-TimeZone %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;sv&quot;</span><span class="p">,</span> <span class="s2">&quot;Set-Variable %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;tee&quot;</span><span class="p">,</span> <span class="s2">&quot;Tee-Object %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;tree&quot;</span><span class="p">,</span> <span class="s2">&quot;tree /F /A %l&quot;</span><span class="p">,),</span>
            <span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="s2">&quot;Get-Content %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;where&quot;</span><span class="p">,</span> <span class="s2">&quot;Where-Object %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;wjb&quot;</span><span class="p">,</span> <span class="s2">&quot;Wait-Job %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;write&quot;</span><span class="p">,</span> <span class="s2">&quot;Write-Output %l&quot;</span><span class="p">),</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">user_aliases</span></div>

<div class="viewcode-block" id="WindowsAliases.user_shell"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.WindowsAliases.user_shell">[docs]</a>    <span class="k">def</span> <span class="nf">user_shell</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Determine the user&#39;s shell. Checks :envvar:`SHELL` and :envvar:`COMSPEC`.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shell</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">shell</span>
        <span class="k">elif</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;SHELL&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;SHELL&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;COMSPEC&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;COMSPEC&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span>
                <span class="s2">&quot;Neither $SHELL nor $COMSPEC set. Can&#39;t determine running terminal.&quot;</span>
            <span class="p">)</span></div></div>


<div class="viewcode-block" id="generate_aliases"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.generate_aliases">[docs]</a><span class="k">def</span> <span class="nf">generate_aliases</span><span class="p">(</span><span class="n">_ip</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Set up aliases for the user namespace for IPython.</span>

<span class="sd">    Planning on coming up with a new way of introducing the aliases into the user namespace.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">_ip</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">_ip</span> <span class="o">=</span> <span class="n">get_ipython</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">_ip</span><span class="p">,</span> <span class="s2">&quot;magics_manager&quot;</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">ApplicationError</span><span class="p">(</span><span class="s2">&quot;Are you running in IPython?&quot;</span><span class="p">)</span>

    <span class="n">common</span> <span class="o">=</span> <span class="n">CommonAliases</span><span class="p">(</span><span class="n">user_aliases</span><span class="o">=</span><span class="n">_ip</span><span class="o">.</span><span class="n">alias_manager</span><span class="o">.</span><span class="n">user_aliases</span><span class="p">)</span>

    <span class="kn">from</span> <span class="nn">default_profile.util.machine</span> <span class="kn">import</span> <span class="n">Platform</span>

    <span class="n">machine</span> <span class="o">=</span> <span class="n">Platform</span><span class="p">()</span>
    <span class="c1"># TODO: Work in the Executable() class check.</span>
    <span class="n">common_aliases</span> <span class="o">=</span> <span class="n">CommonAliases</span><span class="p">()</span>
    <span class="n">common_aliases</span><span class="o">.</span><span class="n">python_exes</span><span class="p">()</span>

    <span class="n">user_aliases</span> <span class="o">=</span> <span class="n">CommonAliases</span><span class="o">.</span><span class="n">git</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">machine</span><span class="o">.</span><span class="n">is_linux</span><span class="p">:</span>
        <span class="c1"># user_aliases += LinuxAliases().busybox()</span>
        <span class="n">linux_aliases</span> <span class="o">=</span> <span class="n">LinuxAliases</span><span class="p">()</span>
        <span class="n">user_aliases</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">linux_aliases</span><span class="o">.</span><span class="n">busybox</span><span class="p">())</span>
    <span class="k">elif</span> <span class="n">machine</span><span class="o">.</span><span class="n">is_win</span><span class="p">:</span>
        <span class="c1"># finish the shell class in default_profile.util.machine</span>
        <span class="c1"># then we can create a shell class that determines if</span>
        <span class="c1"># we&#39;re in cmd or pwsh</span>
        <span class="n">user_aliases</span> <span class="o">+=</span> <span class="n">WindowsAliases</span><span class="o">.</span><span class="n">cmd_aliases</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">user_aliases</span></div>


<div class="viewcode-block" id="redefine_aliases"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.redefine_aliases">[docs]</a><span class="k">def</span> <span class="nf">redefine_aliases</span><span class="p">(</span><span class="n">aliases</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Now a function to allow the user to rerun as necesaary.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">shell</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">shell</span> <span class="o">=</span> <span class="n">get_ipython</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">aliases</span><span class="p">:</span>
            <span class="n">shell</span><span class="o">.</span><span class="n">alias_manager</span><span class="o">.</span><span class="n">define_alias</span><span class="p">(</span><span class="o">*</span><span class="n">i</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">InvalidAliasError</span><span class="p">:</span>
        <span class="k">pass</span></div>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">_ip</span> <span class="o">=</span> <span class="n">get_ipython</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">_ip</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">all_aliases</span> <span class="o">=</span> <span class="n">generate_aliases</span><span class="p">()</span>
        <span class="n">redefine_aliases</span><span class="p">(</span><span class="n">all_aliases</span><span class="p">)</span>
        <span class="kn">from</span> <span class="nn">default_profile.util.module_log</span> <span class="kn">import</span> <span class="n">stream_logger</span>

        <span class="n">ALIAS_LOGGER</span> <span class="o">=</span> <span class="n">stream_logger</span><span class="p">(</span>
            <span class="n">logger</span><span class="o">=</span><span class="s2">&quot;default_profile.startup.20_aliases&quot;</span><span class="p">,</span>
            <span class="n">msg_format</span><span class="o">=</span><span class="p">(</span>
                <span class="s2">&quot;[ </span><span class="si">%(name)s</span><span class="s2">  </span><span class="si">%(relativeCreated)d</span><span class="s2"> ] </span><span class="si">%(levelname)s</span><span class="s2"> </span><span class="si">%(module)s</span><span class="s2"> </span><span class="si">%(message)s</span><span class="s2"> &quot;</span>
            <span class="p">),</span>
            <span class="n">log_level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">WARNING</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">ALIAS_LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Number of aliases is: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">all_aliases</span><span class="p">)</span>
</pre></div>

        </div>
      </div>
    </div>

    <div class="footer" role="contentinfo">
      Last updated on Feb 03, 2020.
    </div>
  </body>
</html>