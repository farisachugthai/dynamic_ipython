
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>default_profile.startup.20_aliases &#8212; Dynamic IPython</title>
    
    <link rel="stylesheet" href="../../../_static/scrolls.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/print.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/language_data.js"></script>
    <script src="../../../_static/theme_extras.js"></script>
    <link rel="canonical" href="https://farisachugthai.github.io/dynamic-ipython/_modules/default_profile/startup/20_aliases.html" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
  <title>Dynamic IPython --- IPython Extensions</title>

  </head><body>

<link rel="stylesheet" href="../_static/style.css" />

    <div id="content">
      <div class="header">
        <h1 class="heading"><a href="../../../index.html"
          title="back to the documentation overview"><span>default_profile.startup.20_aliases</span></a></h1>
      </div>
      <div class="relnav" role="navigation" aria-label="related navigation">
        <a href="#">default_profile.startup.20_aliases</a>
      </div>
      <div id="contentwrapper">
        <div role="main">
        

<h1>Source code for default_profile.startup.20_aliases</h1><div class="highlight"><pre>
<span></span><span class="ch">#!/usr/bin/env python</span>
<span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;Create OS specific aliases to allow a user to use IPython anywhere.</span>

<span class="sd">Try to make viewing large amounts of aliases a bit more manageable.</span>

<span class="sd">As a product of running `%rehashx` the alias magic is unusable.</span>

<span class="sd">Therefore, we try to properly map aliases as dictionaries.</span>

<span class="sd">This implies adding enough dunders to the CommonAliases class</span>
<span class="sd">constructed here that it appropriately follows the ``mapping`` protocol</span>
<span class="sd">as specified in the Python Language Reference.</span>

<span class="sd">As stated in the language reference under Common Sequence Operations.:</span>

<span class="sd">.. compound::</span>

<span class="sd">    Concatenating immutable sequences always results in a new object.</span>
<span class="sd">    This means that building up a sequence by repeated concatenation</span>
<span class="sd">    will have a quadratic runtime cost in the total sequence length.</span>
<span class="sd">    To get a linear runtime cost, you must switch to one of the</span>
<span class="sd">    alternatives below:</span>

<span class="sd">        - **If concatenating tuple objects, extend a list instead.**</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">copy</span>
<span class="kn">import</span> <span class="nn">gc</span>
<span class="kn">import</span> <span class="nn">keyword</span>
<span class="kn">import</span> <span class="nn">operator</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">platform</span>
<span class="kn">import</span> <span class="nn">reprlib</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">UserDict</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Union</span>

<span class="kn">from</span> <span class="nn">IPython.core.alias</span> <span class="kn">import</span> <span class="n">default_aliases</span>
<span class="kn">from</span> <span class="nn">IPython.core.getipython</span> <span class="kn">import</span> <span class="n">get_ipython</span>
<span class="kn">from</span> <span class="nn">traitlets.config.application</span> <span class="kn">import</span> <span class="n">ApplicationError</span>

<span class="kn">from</span> <span class="nn">default_profile.startup</span> <span class="kn">import</span> <span class="n">UsageError</span>


<div class="viewcode-block" id="AliasError"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.AliasError">[docs]</a><span class="k">class</span> <span class="nc">AliasError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="k">pass</span></div>


<div class="viewcode-block" id="InvalidAliasError"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.InvalidAliasError">[docs]</a><span class="k">class</span> <span class="nc">InvalidAliasError</span><span class="p">(</span><span class="n">AliasError</span><span class="p">):</span>
    <span class="k">pass</span></div>


<div class="viewcode-block" id="validate_alias"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.validate_alias">[docs]</a><span class="k">def</span> <span class="nf">validate_alias</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
    <span class="n">shell</span> <span class="o">=</span> <span class="n">alias</span><span class="o">.</span><span class="n">shell</span>

    <span class="k">if</span> <span class="n">shell</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">alias</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">InvalidAliasError</span><span class="p">(</span><span class="s2">&quot;Alias does not have name attribute.&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">caller</span> <span class="o">=</span> <span class="n">shell</span><span class="o">.</span><span class="n">magics_manager</span><span class="o">.</span><span class="n">magics</span><span class="p">[</span><span class="s2">&quot;line&quot;</span><span class="p">][</span><span class="n">alias</span><span class="o">.</span><span class="n">name</span><span class="p">]</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">caller</span><span class="p">,</span> <span class="n">Alias</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">InvalidAliasError</span><span class="p">(</span>
                <span class="s2">&quot;The name </span><span class="si">%s</span><span class="s2"> can&#39;t be aliased &quot;</span>
                <span class="s2">&quot;because it is another magic command.&quot;</span> <span class="o">%</span> <span class="n">shell</span><span class="o">.</span><span class="n">name</span>
            <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">shell</span><span class="o">.</span><span class="n">cmd</span><span class="p">,</span> <span class="nb">str</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="n">InvalidAliasError</span><span class="p">(</span>
            <span class="s2">&quot;An alias command must be a string, &quot;</span> <span class="s2">&quot;got: </span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span>
        <span class="p">)</span>

    <span class="n">nargs</span> <span class="o">=</span> <span class="n">alias</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">)</span> <span class="o">-</span> <span class="n">alias</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%%</span><span class="s2">s&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">nargs</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">alias</span><span class="o">.</span><span class="n">cmd</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;%l&quot;</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">InvalidAliasError</span><span class="p">(</span>
            <span class="s2">&quot;The </span><span class="si">%s</span><span class="s2"> and %l specifiers are mutually &quot;</span> <span class="s2">&quot;exclusive in alias definitions.&quot;</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">nargs</span></div>


<div class="viewcode-block" id="Alias"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.Alias">[docs]</a><span class="k">class</span> <span class="nc">Alias</span><span class="p">(</span><span class="n">UserDict</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Callable object storing the details of one alias.</span>

<span class="sd">    Reasonably this is the object that should be the UserDict. CommonAliases</span>
<span class="sd">    makes more sense as a list of dicts.</span>

<span class="sd">    Instances are registered as magic functions to allow use of aliases.</span>

<span class="sd">    .. todo::</span>
<span class="sd">        More dunders.</span>
<span class="sd">        It would be sweet if we had a container we could ``+`` and ``-`` to.</span>

<span class="sd">    Methods</span>
<span class="sd">    -------</span>
<span class="sd">    blacklist : method</span>
<span class="sd">        Previously a class attribute, the blacklist is now a property of an Alias.</span>

<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="Alias.__init__"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.Alias.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">cmd</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Validate the alias, and return the number of arguments.&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span> <span class="o">=</span> <span class="n">cmd</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blacklist</span><span class="p">:</span>
            <span class="c1"># Wait can we note that we didn&#39;t checkout the keyword list though.</span>
            <span class="k">raise</span> <span class="n">InvalidAliasError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The name </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> can&#39;t be aliased because it is a keyword or builtin.&quot;</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nargs</span> <span class="o">=</span> <span class="n">validate_alias</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="Alias.shell"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.Alias.shell">[docs]</a>    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">shell</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">get_ipython</span><span class="p">()</span></div>

<div class="viewcode-block" id="Alias.blacklist"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.Alias.blacklist">[docs]</a>    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">blacklist</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Override the super classes blacklist. The reset magic no longer works.</span>

<span class="sd">        We change prompt_toolkit properties and don&#39;t reset them with that magic,</span>
<span class="sd">        so it expects the interface to continue existing.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">blacklist</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;dhist&quot;</span><span class="p">,</span> <span class="s2">&quot;alias&quot;</span><span class="p">,</span> <span class="s2">&quot;unalias&quot;</span><span class="p">]</span>
        <span class="n">blacklist</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">keyword</span><span class="o">.</span><span class="n">kwlist</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">blacklist</span></div>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;&lt;Alias: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">!r}</span><span class="s2"> for </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cmd</span><span class="si">!r}</span><span class="s2">&gt;&quot;</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rest</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;If an Alias is called, run it with the shell&#39;s system function.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        rest : str</span>
<span class="sd">            Remainder of the user&#39;s command line.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cmd</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmd</span>
        <span class="n">nargs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nargs</span>
        <span class="c1"># Expand the %l special to be the user&#39;s input line</span>
        <span class="k">if</span> <span class="n">cmd</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;%l&quot;</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">cmd</span> <span class="o">=</span> <span class="n">cmd</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;%l&quot;</span><span class="p">,</span> <span class="n">rest</span><span class="p">)</span>
            <span class="n">rest</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

        <span class="k">if</span> <span class="n">nargs</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">cmd</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%%</span><span class="s2">s&quot;</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">cmd</span> <span class="o">=</span> <span class="n">cmd</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%%</span><span class="s2">s&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="c1"># Simple, argument-less aliases</span>
            <span class="n">cmd</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">rest</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Handle aliases with positional arguments</span>
            <span class="n">args</span> <span class="o">=</span> <span class="n">rest</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">nargs</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">nargs</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">UsageError</span><span class="p">(</span>
                    <span class="s2">&quot;Alias &lt;</span><span class="si">%s</span><span class="s2">&gt; requires </span><span class="si">%s</span><span class="s2"> arguments, </span><span class="si">%s</span><span class="s2"> given.&quot;</span>
                    <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">nargs</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">))</span>
                <span class="p">)</span>
            <span class="n">cmd</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">cmd</span> <span class="o">%</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">args</span><span class="p">[:</span><span class="n">nargs</span><span class="p">]),</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">nargs</span><span class="p">:]))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">shell</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">other</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="CommonAliases"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.CommonAliases">[docs]</a><span class="k">class</span> <span class="nc">CommonAliases</span><span class="p">(</span><span class="n">UserDict</span><span class="p">):</span>
    <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Aliases that are usable on any major platform.</span>

<span class="sd">    Aliases are added by calling the :meth:`update` method which will add</span>
<span class="sd">    aliases to the attribute *dict_aliases*.</span>

<span class="sd">    In addition, note that the definition for updating indicates that the</span>
<span class="sd">    class `update`\s aliases and will `add` other instances.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">shell</span> <span class="o">=</span> <span class="n">get_ipython</span><span class="p">()</span>

<div class="viewcode-block" id="CommonAliases.__init__"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.CommonAliases.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_aliases</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;OS Agnostic aliases.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        user_aliases : list of (&#39;alias&#39;, &#39;system command&#39;) tuples</span>
<span class="sd">            User aliases to add the user&#39;s namespace.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linemagics</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">user_aliases</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">user_aliases</span> <span class="o">=</span> <span class="n">default_aliases</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">user_aliases</span> <span class="o">=</span> <span class="n">user_aliases</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">git</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dict_aliases</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tuple_to_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user_aliases</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">python_exes</span><span class="p">()</span>
        <span class="c1"># if kwargs is not None:</span>
        <span class="c1"># surprisingly that doesnt work</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dict_aliases</span><span class="p">)</span></div>

<div class="viewcode-block" id="CommonAliases.alias_manager"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.CommonAliases.alias_manager">[docs]</a>    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">alias_manager</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The &#39;alias_manager&#39; attribute of |ip|.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">shell</span><span class="o">.</span><span class="n">alias_manager</span></div>

<div class="viewcode-block" id="CommonAliases.define_alias"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.CommonAliases.define_alias">[docs]</a>    <span class="k">def</span> <span class="nf">define_alias</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">cmd</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Define a new alias.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        ::</span>

<span class="sd">            In [54]: pkg?</span>
<span class="sd">            Repr: &lt;alias pkg for &#39;pkg&#39;&gt;</span>
<span class="sd">            In [55]: aliases + (&#39;pkg&#39;, &#39;pkg list-a&#39;)</span>
<span class="sd">            In [56]: pkg?</span>
<span class="sd">            Repr: &lt;alias pkg for &#39;pkg list-a&#39;&gt;</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">caller</span> <span class="o">=</span> <span class="n">Alias</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="n">cmd</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">shell</span><span class="o">.</span><span class="n">magics_manager</span><span class="o">.</span><span class="n">register_function</span><span class="p">(</span>
                <span class="n">caller</span><span class="p">,</span> <span class="n">magic_kind</span><span class="o">=</span><span class="s2">&quot;line&quot;</span><span class="p">,</span> <span class="n">magic_name</span><span class="o">=</span><span class="n">name</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">AliasError</span><span class="p">:</span>
            <span class="k">return</span></div>

<div class="viewcode-block" id="CommonAliases.is_alias"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.CommonAliases.is_alias">[docs]</a>    <span class="k">def</span> <span class="nf">is_alias</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return bool verifying if a name is defined in &#39;dict_aliases.keys()&#39;.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dict_aliases</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span></div>

<div class="viewcode-block" id="CommonAliases.soft_define_alias"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.CommonAliases.soft_define_alias">[docs]</a>    <span class="k">def</span> <span class="nf">soft_define_alias</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">cmd</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Define a new alias and don&#39;t raise an error on an invalid alias.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">alias_manager</span><span class="o">.</span><span class="n">soft_define_alias</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">cmd</span><span class="p">)</span></div>

<div class="viewcode-block" id="CommonAliases.undefine_alias"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.CommonAliases.undefine_alias">[docs]</a>    <span class="k">def</span> <span class="nf">undefine_alias</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Override to raise AliasError not ValueError.</span>

<span class="sd">        We&#39;re not subclassing AliasManager here but still attempting to</span>
<span class="sd">        match it&#39;s interface.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_alias</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">linemagics</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">AliasError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> is not an alias&quot;</span> <span class="o">%</span> <span class="n">name</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;&lt;</span><span class="si">{}</span><span class="s2">&gt;: </span><span class="si">{}</span><span class="s2"> aliases&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">aliases</span><span class="p">))</span>

    <span class="nd">@reprlib</span><span class="o">.</span><span class="n">recursive_repr</span>
    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;&lt;</span><span class="si">{}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">repr_dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">aliases_dict</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxdict</span><span class="p">)</span>
        <span class="p">)</span>

<div class="viewcode-block" id="CommonAliases.update"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.CommonAliases.update">[docs]</a>    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Update the mapping of aliases to system commands.</span>

<span class="sd">        Ensure that this is properly defined as this can be critical for speed.</span>

<span class="sd">        If a TypeError is raised by doing so then attempt to pass the alias along</span>
<span class="sd">        to the shell&#39;s `AliasManager` with `soft_define_alias`.</span>

<span class="sd">        :param kwargs: Any keyword arguments to pass to the superclass.</span>
<span class="sd">        :type kwargs: dict</span>
<span class="sd">        :param other: Other object to update instance dict with.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dict_aliases</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">soft_define_alias</span><span class="p">(</span><span class="o">*</span><span class="n">other</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">other</span><span class="o">=</span><span class="n">kwargs</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">__copy__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dict_aliases</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>  <span class="o">==</span> <span class="n">Alias</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dict</span><span class="o">.</span><span class="n">aliases</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">other</span> <span class="o">==</span> <span class="n">i</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="n">other</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dict_aliases</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dict_aliases</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>

    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cmd</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Allow instances to be added.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="s2">&quot;dict_aliases&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">dict_aliases</span><span class="p">,)</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">cmd</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">name</span><span class="p">,</span> <span class="n">cmd</span> <span class="o">=</span> <span class="n">args</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">name</span><span class="p">,</span> <span class="n">cmd</span> <span class="o">=</span> <span class="n">other</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">define_alias</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">cmd</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__mul__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dict_aliases</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">max</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">max</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">idx</span><span class="p">:</span>
            <span class="c1"># Reset the loop and raise stopiteration</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">idx</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">raise</span> <span class="ne">StopIteration</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">idx</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dict_aliases</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">idx</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">operator</span><span class="o">.</span><span class="n">getitem</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">kb</span><span class="o">.</span><span class="n">bindings</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>

<div class="viewcode-block" id="CommonAliases.len"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.CommonAliases.len">[docs]</a>    <span class="k">def</span> <span class="nf">len</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__len__</span><span class="p">()</span></div>

<div class="viewcode-block" id="CommonAliases.add"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.CommonAliases.add">[docs]</a>    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">aliases</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">aliases</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="fm">__add__</span><span class="p">(</span><span class="n">i</span><span class="p">)</span></div>

    <span class="c1"># def __getattr__(self, attr):</span>
    <span class="c1">#     return getattr(self, attr)</span>

<div class="viewcode-block" id="CommonAliases.tuple_to_dict"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.CommonAliases.tuple_to_dict">[docs]</a>    <span class="k">def</span> <span class="nf">tuple_to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">list_of_tuples</span><span class="p">):</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">list_of_tuples</span>
        <span class="k">if</span> <span class="n">a</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_aliases</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
            <span class="n">ret</span><span class="p">[</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">ret</span></div>

<div class="viewcode-block" id="CommonAliases.unalias"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.CommonAliases.unalias">[docs]</a>    <span class="k">def</span> <span class="nf">unalias</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alias</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remove an alias.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shell</span><span class="o">.</span><span class="n">run_line_magic</span><span class="p">(</span><span class="s2">&quot;unalias&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="p">)</span></div>

<div class="viewcode-block" id="CommonAliases.user_shell"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.CommonAliases.user_shell">[docs]</a>    <span class="k">def</span> <span class="nf">user_shell</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Determine the user&#39;s shell. Checks :envvar:`SHELL` and :envvar:`COMSPEC`.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shell</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">shell</span>
        <span class="k">elif</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;SHELL&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;SHELL&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;COMSPEC&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;COMSPEC&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span>
                <span class="s2">&quot;Neither $SHELL nor $COMSPEC set. Can&#39;t determine running terminal.&quot;</span>
            <span class="p">)</span></div>

<div class="viewcode-block" id="CommonAliases.python_exes"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.CommonAliases.python_exes">[docs]</a>    <span class="k">def</span> <span class="nf">python_exes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Python executables like pydoc get executed in a subprocess currently.</span>

<span class="sd">        I want to do a check for if pydoc and apropos are in the aliases.</span>

<span class="sd">        .. todo::</span>
<span class="sd">            os.environ =&gt; env</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s2">&quot;pydoc&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dict_aliases</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">unalias</span><span class="p">(</span><span class="s2">&quot;pydoc&quot;</span><span class="p">)</span>
            <span class="kn">import</span> <span class="nn">pydoc</span>
        <span class="k">if</span> <span class="s2">&quot;apropos&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dict_aliases</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">unalias</span><span class="p">(</span><span class="s2">&quot;apropos&quot;</span><span class="p">)</span>
            <span class="c1"># noinspection PyProtectedMember</span>
            <span class="kn">from</span> <span class="nn">pydoc</span> <span class="kn">import</span> <span class="n">apropos</span>
        <span class="k">if</span> <span class="s2">&quot;which&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dict_aliases</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">unalias</span><span class="p">(</span><span class="s2">&quot;which&quot;</span><span class="p">)</span>
            <span class="kn">from</span> <span class="nn">shutil</span> <span class="kn">import</span> <span class="n">which</span>
        <span class="k">if</span> <span class="s2">&quot;chown&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dict_aliases</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">unalias</span><span class="p">(</span><span class="s2">&quot;chown&quot;</span><span class="p">)</span>
            <span class="kn">from</span> <span class="nn">shutil</span> <span class="kn">import</span> <span class="n">chown</span></div>

<div class="viewcode-block" id="CommonAliases.git"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.CommonAliases.git">[docs]</a>    <span class="k">def</span> <span class="nf">git</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user_aliases</span> <span class="o">+=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s2">&quot;g&quot;</span><span class="p">,</span> <span class="s2">&quot;git diff --staged --stat %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ga&quot;</span><span class="p">,</span> <span class="s2">&quot;git add -v %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gaa&quot;</span><span class="p">,</span> <span class="s2">&quot;git add --all %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gai&quot;</span><span class="p">,</span> <span class="s2">&quot;git add --interactive %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gap&quot;</span><span class="p">,</span> <span class="s2">&quot;git add --patch %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gar&quot;</span><span class="p">,</span> <span class="s2">&quot;git add --renormalize %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gau&quot;</span><span class="p">,</span> <span class="s2">&quot;git add --update %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ga.&quot;</span><span class="p">,</span> <span class="s2">&quot;git add .&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gb&quot;</span><span class="p">,</span> <span class="s2">&quot;git branch -avv %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gbl&quot;</span><span class="p">,</span> <span class="s2">&quot;git blame %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gbr&quot;</span><span class="p">,</span> <span class="s2">&quot;git branch %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gbrd&quot;</span><span class="p">,</span> <span class="s2">&quot;git branch -d %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gbrD&quot;</span><span class="p">,</span> <span class="s2">&quot;git branch -D %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gbrrd&quot;</span><span class="p">,</span> <span class="s2">&quot;git branch -rd %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gbrrD&quot;</span><span class="p">,</span> <span class="s2">&quot;git branch -rD %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gbru&quot;</span><span class="p">,</span> <span class="s2">&quot;git branch --set-upstream-to --verbose origin %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gbrv&quot;</span><span class="p">,</span> <span class="s2">&quot;git branch --all --verbose --remote %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gci&quot;</span><span class="p">,</span> <span class="s2">&quot;git commit %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gcia&quot;</span><span class="p">,</span> <span class="s2">&quot;git commit --amend %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gciad&quot;</span><span class="p">,</span> <span class="s2">&quot;git commit --amend --date=%l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gcid&quot;</span><span class="p">,</span> <span class="s2">&quot;git commit --date=%l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gcim&quot;</span><span class="p">,</span> <span class="s2">&quot;git commit --verbose --message </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gcl&quot;</span><span class="p">,</span> <span class="s2">&quot;git clone --progress %l&quot;</span><span class="p">),</span>
            <span class="p">(</span>
                <span class="s2">&quot;gcls&quot;</span><span class="p">,</span>
                <span class="s2">&quot;git clone --progress --depth 1 --single-branch --branch master </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gco&quot;</span><span class="p">,</span> <span class="s2">&quot;git checkout %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gcob&quot;</span><span class="p">,</span> <span class="s2">&quot;git checkout -b %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gd&quot;</span><span class="p">,</span> <span class="s2">&quot;git diff %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gds&quot;</span><span class="p">,</span> <span class="s2">&quot;git diff --staged %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gds2&quot;</span><span class="p">,</span> <span class="s2">&quot;git diff --staged --stat %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gdt&quot;</span><span class="p">,</span> <span class="s2">&quot;git difftool %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gdw&quot;</span><span class="p">,</span> <span class="s2">&quot;git diff --word-diff %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gf&quot;</span><span class="p">,</span> <span class="s2">&quot;git fetch --all %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gfe&quot;</span><span class="p">,</span> <span class="s2">&quot;git fetch %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ggc&quot;</span><span class="p">,</span> <span class="s2">&quot;git gc %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ggcp&quot;</span><span class="p">,</span> <span class="s2">&quot;git gc --prune %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;git&quot;</span><span class="p">,</span> <span class="s2">&quot;git %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;git_config_list&quot;</span><span class="p">,</span> <span class="s2">&quot;git config --get --global %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;git_config_glob&quot;</span><span class="p">,</span> <span class="s2">&quot;git config --get-regex --global %l.*&quot;</span><span class="p">),</span>
            <span class="c1"># If you&#39;re on a topic branch, shows commit msgs since split</span>
            <span class="p">(</span><span class="s2">&quot;git_fork&quot;</span><span class="p">,</span> <span class="s2">&quot;git show-branch --current %l&quot;</span><span class="p">),</span>
            <span class="p">(</span>
                <span class="s2">&quot;git_hist&quot;</span><span class="p">,</span>
                <span class="s1">&#39;git log --pretty=&quot;format:%h </span><span class="si">%a</span><span class="s1">d | </span><span class="si">%d</span><span class="s1"> [</span><span class="si">%a</span><span class="s1">n]&quot; --graph --date=short &#39;</span>
                <span class="s2">&quot;--branches --abbrev-commit --oneline %l&quot;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;git_last_msg&quot;</span><span class="p">,</span> <span class="s2">&quot;git log -1 HEAD -- .&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;git_last_patch&quot;</span><span class="p">,</span> <span class="s2">&quot;git show --source&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;git_staged&quot;</span><span class="p">,</span> <span class="s2">&quot;git diff --cached %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;git_rel&quot;</span><span class="p">,</span> <span class="s2">&quot;git rev-parse --show-prefix %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;git_root&quot;</span><span class="p">,</span> <span class="s2">&quot;git rev-parse --show-toplevel %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;git_unstage&quot;</span><span class="p">,</span> <span class="s2">&quot;git reset HEAD %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;git_unstaged&quot;</span><span class="p">,</span> <span class="s2">&quot;git diff %l&quot;</span><span class="p">),</span>
            <span class="p">(</span>
                <span class="s2">&quot;gl&quot;</span><span class="p">,</span>
                <span class="s1">&#39;git log --pretty=format:&quot;%Cred</span><span class="si">%h%</span><span class="s1">Creset %C(yellow)</span><span class="si">%d</span><span class="s1">%Creset %Cgreen(</span><span class="si">%c</span><span class="s1">r) %C(bold blue)&lt;</span><span class="si">%a</span><span class="s1">n&gt;%Creset&quot; --all --abbrev-commit --abbrev=7 --date=relative --graph --decorate %l&#39;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="c1">#  gl with a message</span>
            <span class="p">(</span>
                <span class="s2">&quot;glg&quot;</span><span class="p">,</span>
                <span class="sa">r</span><span class="s1">&#39;git log --pretty=format:&quot;%Cred</span><span class="si">%h%</span><span class="s1">Creset -%C(yellow)</span><span class="si">%d</span><span class="s1">%Creset%Cwhite %Cgreen(</span><span class="si">%c</span><span class="s1">r) %C(bold blue)&lt;</span><span class="si">%a</span><span class="s1">n&gt;%Creset&quot; --all --abbrev-commit --date=relative&#39;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;glo&quot;</span><span class="p">,</span> <span class="s2">&quot;git log %l&quot;</span><span class="p">),</span>
            <span class="p">(</span>
                <span class="s2">&quot;glog&quot;</span><span class="p">,</span>
                <span class="s1">&#39;git log --pretty=&quot;format:%h </span><span class="si">%a</span><span class="s1">d | </span><span class="si">%d</span><span class="s1"> [</span><span class="si">%a</span><span class="s1">n]&quot; --graph --decorate --abbrev-commit --oneline --branches %l&#39;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gls&quot;</span><span class="p">,</span> <span class="s2">&quot;git ls-tree master %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;git ls&quot;</span><span class="p">,</span> <span class="s2">&quot;git ls-tree master %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gm&quot;</span><span class="p">,</span> <span class="s2">&quot;git merge --stat --progress %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gma&quot;</span><span class="p">,</span> <span class="s2">&quot;git merge --abort %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gmc&quot;</span><span class="p">,</span> <span class="s2">&quot;git merge --continue %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gmm&quot;</span><span class="p">,</span> <span class="s2">&quot;git merge --stat --progress master %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gmt&quot;</span><span class="p">,</span> <span class="s2">&quot;git mergetool %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gp&quot;</span><span class="p">,</span> <span class="s2">&quot;git pull --all %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gpo&quot;</span><span class="p">,</span> <span class="s2">&quot;git pull origin %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gpom&quot;</span><span class="p">,</span> <span class="s2">&quot;git pull origin master %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gpu&quot;</span><span class="p">,</span> <span class="s2">&quot;git push %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gpuf&quot;</span><span class="p">,</span> <span class="s2">&quot;git push --force $args&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gpuo&quot;</span><span class="p">,</span> <span class="s2">&quot;git push origin $args&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gpuof&quot;</span><span class="p">,</span> <span class="s2">&quot;git push origin --force $args&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gr&quot;</span><span class="p">,</span> <span class="s2">&quot;git remote -v %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;grb&quot;</span><span class="p">,</span> <span class="s2">&quot;git rebase %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;grba&quot;</span><span class="p">,</span> <span class="s2">&quot;git rebase --abort %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;grbc&quot;</span><span class="p">,</span> <span class="s2">&quot;git rebase --continue %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;grbi&quot;</span><span class="p">,</span> <span class="s2">&quot;git rebase --interactive %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gre&quot;</span><span class="p">,</span> <span class="s2">&quot;git remote %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gs&quot;</span><span class="p">,</span> <span class="s2">&quot;git status %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gsb&quot;</span><span class="p">,</span> <span class="s2">&quot;git status -sb %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gsh&quot;</span><span class="p">,</span> <span class="s2">&quot;git stash %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gsha&quot;</span><span class="p">,</span> <span class="s2">&quot;git stash apply %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gshc&quot;</span><span class="p">,</span> <span class="s2">&quot;git stash clear %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gshd&quot;</span><span class="p">,</span> <span class="s2">&quot;git stash drop %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gshl&quot;</span><span class="p">,</span> <span class="s2">&quot;git stash list %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gshp&quot;</span><span class="p">,</span> <span class="s2">&quot;git stash pop %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gshs&quot;</span><span class="p">,</span> <span class="s2">&quot;git stash show --stat %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gshsp&quot;</span><span class="p">,</span> <span class="s2">&quot;git stash show --patch %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gss&quot;</span><span class="p">,</span> <span class="s2">&quot;git status -sb %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gst&quot;</span><span class="p">,</span> <span class="s2">&quot;git diff --stat %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gsw&quot;</span><span class="p">,</span> <span class="s2">&quot;git switch --progress %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gswm&quot;</span><span class="p">,</span> <span class="s2">&quot;git switch --progress master %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gt&quot;</span><span class="p">,</span> <span class="s2">&quot;git tag --list %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;gtd&quot;</span><span class="p">,</span> <span class="s2">&quot;git tag --delete %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ssh-day&quot;</span><span class="p">,</span> <span class="s1">&#39;eval &quot;$(ssh-agent -s)&quot;; ssh-add %l&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;xx&quot;</span><span class="p">,</span> <span class="s2">&quot;quit&quot;</span><span class="p">),</span>  <span class="c1"># this is a sweet one</span>
            <span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">,</span> <span class="s2">&quot;cd ..&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;...&quot;</span><span class="p">,</span> <span class="s2">&quot;cd ../..&quot;</span><span class="p">),</span>
        <span class="p">]</span></div>

<div class="viewcode-block" id="CommonAliases.ls_patch"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.CommonAliases.ls_patch">[docs]</a>    <span class="k">def</span> <span class="nf">ls_patch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">shell</span><span class="p">):</span>
        <span class="n">shoddy_hack_for_aliases</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s2">&quot;l&quot;</span><span class="p">,</span> <span class="s2">&quot;ls -CF --hide=NTUSER.* --color=always %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;la&quot;</span><span class="p">,</span> <span class="s2">&quot;ls -AF --hide=NTUSER.* --color=always %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ldir&quot;</span><span class="p">,</span> <span class="s2">&quot;ls -Apo --hide=NTUSER.*  --color=always %l | grep /$&quot;</span><span class="p">),</span>
            <span class="c1"># (&#39;lf&#39; ,     &#39;ls -Fo --color=always | grep ^-&#39;),</span>
            <span class="c1"># (&#39;ll&#39; ,          &#39;ls -AFho --color=always %l&#39;),</span>
            <span class="p">(</span><span class="s2">&quot;ls&quot;</span><span class="p">,</span> <span class="s2">&quot;ls -F --hide=NTUSER.* --color=always %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;lr&quot;</span><span class="p">,</span> <span class="s2">&quot;ls -AgFhtr --hide=NTUSER.*  --color=always %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;lt&quot;</span><span class="p">,</span> <span class="s2">&quot;ls -AgFht --hide=NTUSER.* --color=always %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;lx&quot;</span><span class="p">,</span> <span class="s2">&quot;ls -Fo --hide=NTUSER.* --color=always | grep ^-..x&quot;</span><span class="p">),</span>
            <span class="c1"># (&#39;ldir&#39; ,               &#39;ls -Fhpo | grep /$ %l&#39;),</span>
            <span class="p">(</span><span class="s2">&quot;lf&quot;</span><span class="p">,</span> <span class="s2">&quot;ls -Foh --hide=NTUSER.* --color=always | grep ^- %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ll&quot;</span><span class="p">,</span> <span class="s2">&quot;ls -AgFh --hide=NTUSER.* --color=always %l&quot;</span><span class="p">),</span>
            <span class="c1"># (&#39;lt&#39; ,          &#39;ls -Altc --color=always %l&#39;),</span>
            <span class="c1"># (&#39;lr&#39; ,         &#39;ls -Altcr --color=always %l&#39;)</span>
        <span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">shoddy_hack_for_aliases</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">shell</span><span class="o">.</span><span class="n">alias_manager</span><span class="o">.</span><span class="n">define_alias</span><span class="p">(</span><span class="o">*</span><span class="n">i</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">InvalidAliasError</span><span class="p">:</span>
                <span class="k">raise</span></div></div>


<div class="viewcode-block" id="LinuxAliases"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.LinuxAliases">[docs]</a><span class="k">class</span> <span class="nc">LinuxAliases</span><span class="p">(</span><span class="n">CommonAliases</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Add Linux specific aliases.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="LinuxAliases.__init__"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.LinuxAliases.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_aliases</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user_aliases</span> <span class="o">=</span> <span class="n">user_aliases</span> <span class="k">if</span> <span class="n">user_aliases</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">args</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">busybox</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thirdparty</span><span class="p">()</span></div>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;Linux Aliases: </span><span class="si">{!r}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user_aliases</span><span class="p">))</span>

<div class="viewcode-block" id="LinuxAliases.busybox"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.LinuxAliases.busybox">[docs]</a>    <span class="k">def</span> <span class="nf">busybox</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Commands that are available on any Unix-ish system.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        user_aliases : list of (&#39;alias&#39;, &#39;system command&#39;) tuples</span>
<span class="sd">            User aliases to add the user&#39;s namespace.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user_aliases</span> <span class="o">+=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s2">&quot;cs&quot;</span><span class="p">,</span> <span class="s2">&quot;cd </span><span class="si">%s</span><span class="s2"> &amp;&amp; ls -F --color=always </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;cp&quot;</span><span class="p">,</span> <span class="s2">&quot;cp -v %l&quot;</span><span class="p">),</span>  <span class="c1"># cp mv mkdir and rmdir are all overridden</span>
            <span class="p">(</span><span class="s2">&quot;df&quot;</span><span class="p">,</span> <span class="s2">&quot;df -ah --total&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;dU&quot;</span><span class="p">,</span> <span class="s2">&quot;du -d 1 -h --apparent-size --all | sort -h | tail -n 10&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;dus&quot;</span><span class="p">,</span> <span class="s2">&quot;du -d 1 -ha %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;echo&quot;</span><span class="p">,</span> <span class="s2">&quot;echo -e %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;free&quot;</span><span class="p">,</span> <span class="s2">&quot;free -mt&quot;</span><span class="p">),</span>
            <span class="p">(</span>
                <span class="s2">&quot;gpip&quot;</span><span class="p">,</span>
                <span class="s2">&quot;export PIP_REQUIRE_VIRTUALENV=0; python -m pip %l; export PIP_REQUIRE_VIRTUALENV=1 &gt; /dev/null&quot;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="p">(</span>
                <span class="s2">&quot;gpip2&quot;</span><span class="p">,</span>
                <span class="s2">&quot;export PIP_REQUIRE_VIRTUALENV=0; python2 -m pip %l; export PIP_REQUIRE_VIRTUALENV=1 &gt; /dev/null&quot;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="p">(</span>
                <span class="s2">&quot;gpip3&quot;</span><span class="p">,</span>
                <span class="s2">&quot;export PIP_REQUIRE_VIRTUALENV=0; python3 -m pip %l; export PIP_REQUIRE_VIRTUALENV=1 &gt; /dev/null&quot;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;head&quot;</span><span class="p">,</span> <span class="s2">&quot;head -n 30 %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;l&quot;</span><span class="p">,</span> <span class="s2">&quot;ls -CF --color=always %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;la&quot;</span><span class="p">,</span> <span class="s2">&quot;ls -AFh --color=always %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ldir&quot;</span><span class="p">,</span> <span class="s2">&quot;ls -Fhpo --color=always %l | grep /$&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;lf&quot;</span><span class="p">,</span> <span class="s2">&quot;ls -Foh --color=always | grep ^-&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ll&quot;</span><span class="p">,</span> <span class="s2">&quot;ls -FAgh --color=always %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ls&quot;</span><span class="p">,</span> <span class="s2">&quot;ls -Fh --color=always %l&quot;</span><span class="p">),</span>
            <span class="c1"># alternatively -Altcr</span>
            <span class="p">(</span><span class="s2">&quot;lr&quot;</span><span class="p">,</span> <span class="s2">&quot;ls -AgFhtr --color=always %l&quot;</span><span class="p">),</span>
            <span class="c1"># alternatively could do ls -Altc</span>
            <span class="p">(</span><span class="s2">&quot;lt&quot;</span><span class="p">,</span> <span class="s2">&quot;ls -AgFht --color=always %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;lx&quot;</span><span class="p">,</span> <span class="s2">&quot;ls -Fo --color=always | grep ^-..x&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;mk&quot;</span><span class="p">,</span> <span class="s2">&quot;mkdir -pv %l &amp;&amp; cd %l&quot;</span><span class="p">),</span>  <span class="c1"># check if this works. only mkdir</span>
            <span class="p">(</span><span class="s2">&quot;mkdir&quot;</span><span class="p">,</span> <span class="s2">&quot;mkdir -pv %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;mv&quot;</span><span class="p">,</span> <span class="s2">&quot;mv -v %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="s2">&quot;fc -s&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;redo&quot;</span><span class="p">,</span> <span class="s2">&quot;fc -s&quot;</span><span class="p">),</span>
            <span class="c1"># Less annoying than -i but more safe</span>
            <span class="c1"># only prompts with more than 3 files or recursed dirs.</span>
            <span class="p">(</span><span class="s2">&quot;rm&quot;</span><span class="p">,</span> <span class="s2">&quot;rm -Iv %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;rmdir&quot;</span><span class="p">,</span> <span class="s2">&quot;rmdir -v %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;default_profile&quot;</span><span class="p">,</span> <span class="s2">&quot;cd ~/projects/dotfiles/unix/.ipython/default_profile&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;startup&quot;</span><span class="p">,</span> <span class="s2">&quot;cd ~/projects/dotfiles/unix/.ipython/default_profile/startup&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;tail&quot;</span><span class="p">,</span> <span class="s2">&quot;tail -n 30 %l&quot;</span><span class="p">),</span>
        <span class="p">]</span></div>

<div class="viewcode-block" id="LinuxAliases.thirdparty"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.LinuxAliases.thirdparty">[docs]</a>    <span class="k">def</span> <span class="nf">thirdparty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Contrasted to busybox, these require external installation.</span>

<span class="sd">        As a result it&#39;ll be of value to check that they&#39;re even in</span>
<span class="sd">        the namespace.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user_aliases</span> <span class="o">+=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s2">&quot;ag&quot;</span><span class="p">,</span> <span class="s2">&quot;ag --hidden --color --no-column %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="s2">&quot;bat %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;nvim&quot;</span><span class="p">,</span> <span class="s2">&quot;nvim %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;nman&quot;</span><span class="p">,</span> <span class="s1">&#39;nvim -c &quot;Man %l&quot; -c&quot;wincmd T&quot;&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;tre&quot;</span><span class="p">,</span> <span class="s2">&quot;tree -DAshFC --prune -I .git %l&quot;</span><span class="p">),</span>
        <span class="p">]</span></div></div>


<div class="viewcode-block" id="WindowsAliases"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.WindowsAliases">[docs]</a><span class="k">class</span> <span class="nc">WindowsAliases</span><span class="p">(</span><span class="n">CommonAliases</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Aggregated Window aliases. Provides simplified system calls for NT.</span>

<span class="sd">    Methods</span>
<span class="sd">    -------</span>
<span class="sd">    Implements aliases specific to cmd or powershell.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    Would it be useful to subclass :class:`reprlib.Repr` here?</span>

<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="WindowsAliases.__init__"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.WindowsAliases.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_aliases</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user_aliases</span> <span class="o">=</span> <span class="n">user_aliases</span> <span class="k">if</span> <span class="n">user_aliases</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">args</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmd_aliases</span><span class="p">()</span></div>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;Windows Aliases: </span><span class="si">{!r}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user_aliases</span><span class="p">))</span>

<div class="viewcode-block" id="WindowsAliases.cmd_aliases"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.WindowsAliases.cmd_aliases">[docs]</a>    <span class="k">def</span> <span class="nf">cmd_aliases</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Aliases for the :command:`cmd` shell.</span>

<span class="sd">        .. todo:: Cmd, :envvar:`COPYCMD` and IPython</span>

<span class="sd">            Need to consider how to handle env vars. Still working out how</span>
<span class="sd">            IPython&#39;s logic for Window&#39;s shells works, but that&#39;ll determine</span>
<span class="sd">            how :envvar:`SHELL` and :envvar:`COMSPEC` are handled.</span>

<span class="sd">        .. note:: Windows environment variables</span>

<span class="sd">            However it&#39;ll also take some consideration to figure</span>
<span class="sd">            out how to handle env vars like :envvar:`COPYCMD`. Should we</span>
<span class="sd">            build them into the aliases we have here because</span>
<span class="sd">            that&#39;ll affect :data:`_ip.user_aliases.mv`?</span>

<span class="sd">        Also note :envvar:`DIRCMD` for :command:`dir`.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user_aliases</span> <span class="o">+=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s2">&quot;assoc&quot;</span><span class="p">,</span> <span class="s2">&quot;assoc %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;cd&quot;</span><span class="p">,</span> <span class="s2">&quot;cd %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;chdir&quot;</span><span class="p">,</span> <span class="s2">&quot;chdir %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;cl&quot;</span><span class="p">,</span> <span class="s2">&quot;cl %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;cmd&quot;</span><span class="p">,</span> <span class="s2">&quot;cmd /U /E:ON /F:ON %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;control&quot;</span><span class="p">,</span> <span class="s2">&quot;control %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;controlpanel&quot;</span><span class="p">,</span> <span class="s2">&quot;control %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;copy&quot;</span><span class="p">,</span> <span class="s2">&quot;copy /V /Y </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">),</span>
            <span class="c1"># (&quot;cp&quot;, &quot;copy %s %s&quot;),</span>
            <span class="p">(</span><span class="s2">&quot;cpanel&quot;</span><span class="p">,</span> <span class="s2">&quot;control %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;cygpath&quot;</span><span class="p">,</span> <span class="s2">&quot;cygpath %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;del&quot;</span><span class="p">,</span> <span class="s2">&quot;del %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;dism&quot;</span><span class="p">,</span> <span class="s2">&quot;dism&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ddir&quot;</span><span class="p">,</span> <span class="s2">&quot;dir /ad /on %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;echo&quot;</span><span class="p">,</span> <span class="s2">&quot;echo %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;erase&quot;</span><span class="p">,</span> <span class="s2">&quot;erase %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;find&quot;</span><span class="p">,</span> <span class="s2">&quot;find %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;findstr&quot;</span><span class="p">,</span> <span class="s2">&quot;findstr %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;finger&quot;</span><span class="p">,</span> <span class="s2">&quot;finger&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ldir&quot;</span><span class="p">,</span> <span class="s2">&quot;dir /ad /on %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ll&quot;</span><span class="p">,</span> <span class="s2">&quot;dir /Q %l&quot;</span><span class="p">),</span>
            <span class="c1"># I know this really isn&#39;t the same but I need it</span>
            <span class="p">(</span><span class="s2">&quot;ln&quot;</span><span class="p">,</span> <span class="s2">&quot;mklink </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;make&quot;</span><span class="p">,</span> <span class="s2">&quot;make.bat %l&quot;</span><span class="p">),</span>  <span class="c1"># Useful when we&#39;re building docs</span>
            <span class="p">(</span><span class="s2">&quot;md&quot;</span><span class="p">,</span> <span class="s2">&quot;md %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;mk&quot;</span><span class="p">,</span> <span class="s2">&quot;mkdir </span><span class="si">%s</span><span class="s2"> &amp; cd </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;mkdir&quot;</span><span class="p">,</span> <span class="s2">&quot;mkdir %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;mklink&quot;</span><span class="p">,</span> <span class="s2">&quot;mklink </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;move&quot;</span><span class="p">,</span> <span class="s2">&quot;move </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;msbuild&quot;</span><span class="p">,</span> <span class="s2">&quot;msbuild %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;mv&quot;</span><span class="p">,</span> <span class="s2">&quot;move </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;net&quot;</span><span class="p">,</span> <span class="s2">&quot;net %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;path&quot;</span><span class="p">,</span> <span class="s2">&quot;path %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;rd&quot;</span><span class="p">,</span> <span class="s2">&quot;rd %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ren&quot;</span><span class="p">,</span> <span class="s2">&quot;ren %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;rename&quot;</span><span class="p">,</span> <span class="s2">&quot;rename %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;rm&quot;</span><span class="p">,</span> <span class="s2">&quot;del %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;rmdir&quot;</span><span class="p">,</span> <span class="s2">&quot;rmdir %l&quot;</span><span class="p">),</span>
            <span class="c1"># i&#39;ll admit this is specific but I&#39;m NEVER gonna remember it</span>
            <span class="p">(</span><span class="s2">&quot;rmdir -r&quot;</span><span class="p">,</span> <span class="s2">&quot;rmdir /S %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;sc&quot;</span><span class="p">,</span> <span class="s2">&quot;sc %l&quot;</span><span class="p">),</span>
            <span class="p">(</span>
                <span class="s2">&quot;set&quot;</span><span class="p">,</span>
                <span class="s2">&quot;set %l&quot;</span><span class="p">,</span>
            <span class="p">),</span>  <span class="c1"># but honestly might just work better as os.environ.putenv</span>
            <span class="p">(</span><span class="s2">&quot;sfc&quot;</span><span class="p">,</span> <span class="s2">&quot;sfc %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;start&quot;</span><span class="p">,</span> <span class="s2">&quot;start %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;tasklist&quot;</span><span class="p">,</span> <span class="s2">&quot;tasklist %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;taskkill&quot;</span><span class="p">,</span> <span class="s2">&quot;taskkill %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;title&quot;</span><span class="p">,</span> <span class="s2">&quot;title %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;tree&quot;</span><span class="p">,</span> <span class="s2">&quot;tree /A /F %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ver&quot;</span><span class="p">,</span> <span class="s2">&quot;ver %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;verify&quot;</span><span class="p">,</span> <span class="s2">&quot;verify %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;vol&quot;</span><span class="p">,</span> <span class="s2">&quot;vol %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;xcopy&quot;</span><span class="p">,</span> <span class="s2">&quot;xcopy %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;where&quot;</span><span class="p">,</span> <span class="s2">&quot;where %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;wmic&quot;</span><span class="p">,</span> <span class="s2">&quot;wmic %l&quot;</span><span class="p">),</span>
        <span class="p">]</span></div>

<div class="viewcode-block" id="WindowsAliases.powershell_aliases"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.WindowsAliases.powershell_aliases">[docs]</a>    <span class="k">def</span> <span class="nf">powershell_aliases</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Aliases for Windows OSes using :command:`powershell`.</span>

<span class="sd">        Has only been tested on Windows 10 in a heavily configured environment.</span>

<span class="sd">        Niceties such as Git for Windows, ag-silversearcher, ripgrep,</span>
<span class="sd">        ConEmu and others have been added.</span>

<span class="sd">        The minimum number of assumptions possible have been made; however, note</span>
<span class="sd">        that this section is still under development and frequently changes.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user_aliases</span> <span class="o">+=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s2">&quot;ac&quot;</span><span class="p">,</span> <span class="s2">&quot;Add-Content %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;asnp&quot;</span><span class="p">,</span> <span class="s2">&quot;Add-PSSnapin %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="s2">&quot;Get-Content %l&quot;</span><span class="p">),</span>
            <span class="c1"># (&#39;cd&#39;, &#39;Set-Location %l&#39;),</span>
            <span class="p">(</span><span class="s2">&quot;clc&quot;</span><span class="p">,</span> <span class="s2">&quot;Clear-Content %l&quot;</span><span class="p">),</span>
            <span class="c1"># (&#39;clear&#39;, &#39;Clear-History %l&#39;),</span>
            <span class="p">(</span><span class="s2">&quot;conda env&quot;</span><span class="p">,</span> <span class="s2">&quot;Get-Conda-Environment %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;copy&quot;</span><span class="p">,</span> <span class="s2">&quot;Copy-Item %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;cp&quot;</span><span class="p">,</span> <span class="s2">&quot;Copy-Item %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;del&quot;</span><span class="p">,</span> <span class="s2">&quot;Remove-Item %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;dir&quot;</span><span class="p">,</span> <span class="s2">&quot;Get-ChildItem %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;echo&quot;</span><span class="p">,</span> <span class="s2">&quot;Write-Output %l&quot;</span><span class="p">),</span>
            <span class="c1"># (&#39;history&#39;, &#39;Get-History %l&#39;),</span>
            <span class="p">(</span><span class="s2">&quot;kill&quot;</span><span class="p">,</span> <span class="s2">&quot;Stop-Process&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;l&quot;</span><span class="p">,</span> <span class="s2">&quot;Get-ChildItem %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ll&quot;</span><span class="p">,</span> <span class="s2">&quot;GetChildItem -Verbose %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ls&quot;</span><span class="p">,</span> <span class="s2">&quot;Get-ChildItem %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;man&quot;</span><span class="p">,</span> <span class="s2">&quot;Get-Help %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;md&quot;</span><span class="p">,</span> <span class="s2">&quot;mkdir %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;move&quot;</span><span class="p">,</span> <span class="s2">&quot;Move-Item %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;mv&quot;</span><span class="p">,</span> <span class="s2">&quot;Move-Item %l&quot;</span><span class="p">),</span>
            <span class="c1"># (&#39;popd&#39;, &#39;Pop-Location %l&#39;),</span>
            <span class="p">(</span><span class="s2">&quot;pro&quot;</span><span class="p">,</span> <span class="s2">&quot;nvim $Profile.CurrentUserAllHosts&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ps&quot;</span><span class="p">,</span> <span class="s2">&quot;Get-Process %l&quot;</span><span class="p">),</span>
            <span class="c1"># (&#39;pushd&#39;, &#39;Push-Location %l&#39;),</span>
            <span class="c1"># (&#39;pwd&#39;, &#39;Get-Location %l&#39;),</span>
            <span class="p">(</span><span class="s2">&quot;ren&quot;</span><span class="p">,</span> <span class="s2">&quot;Rename-Item %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;rm&quot;</span><span class="p">,</span> <span class="s2">&quot;Remove-Item %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;rmdir&quot;</span><span class="p">,</span> <span class="s2">&quot;Remove-Item %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;rp&quot;</span><span class="p">,</span> <span class="s2">&quot;Remove-ItemProperty %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;rsn&quot;</span><span class="p">,</span> <span class="s2">&quot;Remove-PSSession %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;rv&quot;</span><span class="p">,</span> <span class="s2">&quot;Remove-Variable %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;rvpa&quot;</span><span class="p">,</span> <span class="s2">&quot;Resolve-Path %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;sajb&quot;</span><span class="p">,</span> <span class="s2">&quot;Start-Job %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;sal&quot;</span><span class="p">,</span> <span class="s2">&quot;Set-Alias %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;saps&quot;</span><span class="p">,</span> <span class="s2">&quot;Start-Process %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;sasv&quot;</span><span class="p">,</span> <span class="s2">&quot;Start-Service %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;sbp&quot;</span><span class="p">,</span> <span class="s2">&quot;Set-PSBreakpoint %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;select&quot;</span><span class="p">,</span> <span class="s2">&quot;Select-Object %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;set&quot;</span><span class="p">,</span> <span class="s2">&quot;Set-Variable %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;si&quot;</span><span class="p">,</span> <span class="s2">&quot;Set-Item %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;sl&quot;</span><span class="p">,</span> <span class="s2">&quot;Set-Location %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;sleep&quot;</span><span class="p">,</span> <span class="s2">&quot;Start-Sleep %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;sls&quot;</span><span class="p">,</span> <span class="s2">&quot;Select-String %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;sort&quot;</span><span class="p">,</span> <span class="s2">&quot;Sort-Object %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;sp&quot;</span><span class="p">,</span> <span class="s2">&quot;Set-ItemProperty %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;spjb&quot;</span><span class="p">,</span> <span class="s2">&quot;Stop-Job %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;spps&quot;</span><span class="p">,</span> <span class="s2">&quot;Stop-Process %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;spsv&quot;</span><span class="p">,</span> <span class="s2">&quot;Stop-Service %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;start&quot;</span><span class="p">,</span> <span class="s2">&quot;Start-Process %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;stz&quot;</span><span class="p">,</span> <span class="s2">&quot;Set-TimeZone %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;sv&quot;</span><span class="p">,</span> <span class="s2">&quot;Set-Variable %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;tee&quot;</span><span class="p">,</span> <span class="s2">&quot;Tee-Object %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;tree&quot;</span><span class="p">,</span> <span class="s2">&quot;tree /F /A %l&quot;</span><span class="p">,),</span>
            <span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="s2">&quot;Get-Content %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;where&quot;</span><span class="p">,</span> <span class="s2">&quot;Where-Object %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;wjb&quot;</span><span class="p">,</span> <span class="s2">&quot;Wait-Job %l&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;write&quot;</span><span class="p">,</span> <span class="s2">&quot;Write-Output %l&quot;</span><span class="p">),</span>
        <span class="p">]</span></div></div>


<div class="viewcode-block" id="generate_aliases"><a class="viewcode-back" href="../../../startup/aliases.html#default_profile.startup.20_aliases.generate_aliases">[docs]</a><span class="k">def</span> <span class="nf">generate_aliases</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">LinuxAliases</span><span class="p">,</span> <span class="n">WindowsAliases</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Define aliases in case the user needs to redefine</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    aliases : `list` of `tuple`</span>
<span class="sd">        Aliases to rerun. Can be easily generated from `generate_aliases`</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    None</span>

<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    :exc:`traitlets.config.application.ApplicationError`</span>
<span class="sd">        Raises an ApplicationError if `get_ipython` returns an object that</span>
<span class="sd">        doesn&#39;t have an attribute &#39;alias_manager&#39;.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_ip</span> <span class="o">=</span> <span class="n">get_ipython</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">_ip</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">_ip</span><span class="p">,</span> <span class="s2">&quot;alias_manager&quot;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">ApplicationError</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">machine</span> <span class="o">=</span> <span class="n">platform</span><span class="o">.</span><span class="n">platform</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">machine</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;Linux&quot;</span><span class="p">):</span>
        <span class="n">aliases</span> <span class="o">=</span> <span class="n">LinuxAliases</span><span class="p">(</span><span class="n">user_aliases</span><span class="o">=</span><span class="n">_ip</span><span class="o">.</span><span class="n">alias_manager</span><span class="o">.</span><span class="n">user_aliases</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">machine</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;Win&quot;</span><span class="p">):</span>
        <span class="n">aliases</span> <span class="o">=</span> <span class="n">WindowsAliases</span><span class="p">(</span><span class="n">user_aliases</span><span class="o">=</span><span class="n">_ip</span><span class="o">.</span><span class="n">alias_manager</span><span class="o">.</span><span class="n">user_aliases</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">AliasError</span>
    <span class="n">aliases</span><span class="o">.</span><span class="n">ls_patch</span><span class="p">(</span><span class="n">_ip</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">aliases</span></div>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">all_aliases</span> <span class="o">=</span> <span class="n">generate_aliases</span><span class="p">()</span>
    <span class="c1"># our combined classes have an attribute dict_aliases</span>
    <span class="c1"># that makes operations a lot easier to perform</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">all_aliases</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># so this expression here is how we now we didn&#39;t properly separate responsibilities</span>
            <span class="n">all_aliases</span><span class="o">.</span><span class="n">soft_define_alias</span><span class="p">(</span><span class="o">*</span><span class="n">i</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">InvalidAliasError</span><span class="p">:</span>
            <span class="k">raise</span>

    <span class="n">get_ipython</span><span class="p">()</span><span class="o">.</span><span class="n">run_line_magic</span><span class="p">(</span><span class="s2">&quot;alias_magic&quot;</span><span class="p">,</span> <span class="s2">&quot;p pycat&quot;</span><span class="p">)</span>
    <span class="n">get_ipython</span><span class="p">()</span><span class="o">.</span><span class="n">alias_manager</span><span class="o">.</span><span class="n">define_alias</span><span class="p">(</span><span class="s2">&quot;fzf&quot;</span><span class="p">,</span> <span class="s2">&quot;fzf-tmux&quot;</span><span class="p">)</span>
    <span class="n">gc</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>

<span class="c1"># Vim: set et:</span>
</pre></div>

        </div>
      </div>
    </div>

    <div class="footer" role="contentinfo">
      Last updated on Mar 27, 2020.
    </div>
  </body>
</html>