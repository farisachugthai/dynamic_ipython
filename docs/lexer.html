
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>New IPython Console Lexer &#8212; Dynamic IPython: version0.0.1</title>
    <link rel="stylesheet" href="_static/pyramid.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/copybutton.js"></script>
    <link rel="canonical" href="https://farisachugthai.github.io/dynamic-ipython/lexer.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="IPython’s Startup" href="startup/index.html" />
    <link rel="prev" title="Developer’s Notes" href="dev.html" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Neuton&amp;subset=latin" type="text/css"
  media="screen" charset="utf-8" />
<link rel="stylesheet"
  href="https://fonts.googleapis.com/css?family=Nobile:regular,italic,bold,bolditalic&amp;subset=latin" type="text/css"
  media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->

  </head><body>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="startup/index.html" title="IPython’s Startup"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="dev.html" title="Developer’s Notes"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Dynamic IPython</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="new-ipython-console-lexer">
<span id="console-lexer"></span><h1>New IPython Console Lexer<a class="headerlink" href="#new-ipython-console-lexer" title="Permalink to this headline">¶</a></h1>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.0.</span></p>
</div>
<p>The IPython console lexer has been rewritten and now supports tracebacks
and customized input/output prompts. An entire suite of lexers is now
available at <a class="reference external" href="https://ipython.readthedocs.io/en/stable/api/generated/IPython.lib.lexers.html#module-IPython.lib.lexers" title="(in IPython v7.8.0)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">IPython.lib.lexers</span></code></a>. These include:</p>
<dl class="simple">
<dt>IPythonLexer &amp; IPython3Lexer</dt><dd><p>Lexers for pure IPython (python + magic/shell commands)</p>
</dd>
<dt>IPythonPartialTracebackLexer &amp; IPythonTracebackLexer</dt><dd><p>Supports 2.x and 3.x via the keyword <code class="xref py py-obj docutils literal notranslate"><span class="pre">python3</span></code>. The partial traceback
lexer reads everything but the Python code appearing in a traceback.
The full lexer combines the partial lexer with an IPython lexer.</p>
</dd>
<dt>IPythonConsoleLexer</dt><dd><p>A lexer for IPython console sessions, with support for tracebacks.
Supports 2.x and 3.x via the keyword <code class="xref py py-obj docutils literal notranslate"><span class="pre">python3</span></code>.</p>
</dd>
<dt>IPyLexer</dt><dd><p>A friendly lexer which examines the first line of text and from it,
decides whether to use an IPython lexer or an IPython console lexer.
Supports 2.x and 3.x via the keyword <code class="xref py py-obj docutils literal notranslate"><span class="pre">python3</span></code>.</p>
</dd>
</dl>
<p>Previously, the <code class="xref py py-class docutils literal notranslate"><span class="pre">IPythonConsoleLexer</span></code> class was available at
<code class="xref py py-mod docutils literal notranslate"><span class="pre">IPython.sphinxext.ipython_console_hightlight</span></code>.  It was inserted
into Pygments’ list of available lexers under the name <code class="xref py py-obj docutils literal notranslate"><span class="pre">ipython</span></code>.  It should
be mentioned that this name is inaccurate, since an IPython console session
is not the same as IPython code (which itself is a superset of the Python
language).</p>
<p>Now, the Sphinx extension inserts two console lexers into Pygments’ list of
available lexers. Both are IPyLexer instances under the names: <code class="xref py py-obj docutils literal notranslate"><span class="pre">ipython</span></code> and
<code class="xref py py-obj docutils literal notranslate"><span class="pre">ipython3</span></code>. Although the names can be confusing (as mentioned above), their
continued use is, in part, to maintain backwards compatibility and to
aid typical usage. If a project needs to make Pygments aware of more than just
the IPyLexer class, then one should not make the IPyLexer class available under
the name <code class="xref py py-obj docutils literal notranslate"><span class="pre">ipython</span></code> and use <code class="xref py py-obj docutils literal notranslate"><span class="pre">ipy</span></code> or some other non-conflicting value.</p>
<p>Code blocks such as:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">code-block</span><span class="p">::</span> <span class="k">ipython</span>

    <span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="mi">2</span><span class="o">**</span><span class="mi">2</span>
    <span class="n">Out</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="mi">4</span>
</pre></div>
</div>
<p>will continue to work as before, but now, they will also properly highlight
tracebacks.  For pure IPython code, the same lexer will also work:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">code-block</span><span class="p">::</span> <span class="k">ipython</span>

    <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)))</span>
    <span class="o">!</span><span class="nb">echo</span> <span class="nv">$x</span>
</pre></div>
</div>
<p>Since the first line of the block did not begin with a standard IPython console
prompt, the entire block is assumed to consist of IPython code instead.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="dev.html" title="previous chapter">Developer’s Notes</a></li>
      <li>Next: <a href="startup/index.html" title="next chapter">IPython’s Startup</a></li>
  </ul></li>
</ul>

<h3><a href="index.html">Table of Contents</a></h3>

<div>&nbsp;</div>
<div id="sidebartoc">
<p class="caption"><span class="caption-text">Tutorial</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="ipython_keybindings.html">Keybindings</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ipython_keybindings.html#key-bindings">Key Bindings</a></li>
<li class="toctree-l2"><a class="reference internal" href="ipython_keybindings.html#interactively-binding-keys">Interactively Binding Keys</a></li>
<li class="toctree-l2"><a class="reference internal" href="ipython_keybindings.html#official-ipython-documentation">Official IPython Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="ipython_keybindings.html#side-effects">Side Effects</a></li>
<li class="toctree-l2"><a class="reference internal" href="ipython_keybindings.html#source-code-for-creating-ipython-shortcuts">Source code for creating IPython shortcuts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="custom_magics.html">Custom Magics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="custom_magics.html#registering-the-magic">Registering the magic</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom_magics.html#complete-example">Complete Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom_magics.html#creating-ipython-extensions">Creating IPython Extensions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="exceptions.html">Customized Exceptions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="exceptions.html#debugging">Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="exceptions.html#help-on-module-ipython-core-ultratb-in-ipython-core">Help on module <code class="xref py py-mod docutils literal notranslate"><span class="pre">IPython.core.ultratb</span></code> in <code class="xref py py-mod docutils literal notranslate"><span class="pre">IPython.core</span></code>:</a></li>
<li class="toctree-l2"><a class="reference internal" href="exceptions.html#verbosetb"><strong>VerboseTB</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="exceptions.html#sys-excepthook-exceptionhook"><code class="xref py py-func docutils literal notranslate"><span class="pre">sys.excepthook()</span></code> — ExceptionHook</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sphinxext.html">IPython Sphinx Directive</a><ul>
<li class="toctree-l2"><a class="reference internal" href="sphinxext.html#directive-and-options">Directive and options</a></li>
<li class="toctree-l2"><a class="reference internal" href="sphinxext.html#directive-usage">Directive Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="sphinxext.html#persisting-the-session-across-ipython-directive-blocks">Persisting the session across IPython directive blocks</a></li>
<li class="toctree-l2"><a class="reference internal" href="sphinxext.html#multi-line-input">Multi-line input</a></li>
<li class="toctree-l2"><a class="reference internal" href="sphinxext.html#testing-directive-outputs">Testing directive outputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="sphinxext.html#handling-comments">Handling Comments</a></li>
<li class="toctree-l2"><a class="reference internal" href="sphinxext.html#splitting-python-statements-across-lines">Splitting Python statements across lines</a></li>
<li class="toctree-l2"><a class="reference internal" href="sphinxext.html#supported-pseudo-decorators">Supported Pseudo-Decorators</a></li>
<li class="toctree-l2"><a class="reference internal" href="sphinxext.html#module-IPython.sphinxext.ipython_directive">Automatically generated documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dev.html">Developers Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dev.html#installing">Installing</a></li>
<li class="toctree-l2"><a class="reference internal" href="dev.html#building-documentation">Building Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="dev.html#generating-css">Generating CSS</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">New IPython Console Lexer</a></li>
<li class="toctree-l1"><a class="reference internal" href="startup/index.html">IPython Shell Initialization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="startup/rehashx.html">01_rehashx</a></li>
<li class="toctree-l2"><a class="reference internal" href="startup/easy_import.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">04_easy_import</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="startup/ipython-logger.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="startup/help_helpers.html">06_Help_Helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="startup/aliases.html">System Aliases</a></li>
<li class="toctree-l2"><a class="reference internal" href="startup/41_numpy.html"><code class="docutils literal notranslate"><span class="pre">41_numpy_init</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="startup/42_pandas.html"><code class="docutils literal notranslate"><span class="pre">42_pandas_init</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="startup/sysexcept.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">50_sysexception</span></code> module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="util.html">General Utility Functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="util.html#module-default_profile.util">Module contents</a></li>
<li class="toctree-l2"><a class="reference internal" href="util.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="util.html#module-default_profile.util.copytree">default_profile.util.copytree module</a></li>
<li class="toctree-l2"><a class="reference internal" href="util.html#module-default_profile.util.machine">default_profile.util.machine module</a></li>
<li class="toctree-l2"><a class="reference internal" href="util.html#module-default_profile.util.module_log">default_profile.util.module_log module</a></li>
<li class="toctree-l2"><a class="reference internal" href="util.html#module-default_profile.util.paths"><code class="xref py py-mod docutils literal notranslate"><span class="pre">default_profile.util.paths</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="util.html#module-default_profile.util.profile_override"><code class="xref py py-mod docutils literal notranslate"><span class="pre">default_profile.util.profile_override</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="util.html#module-default_profile.util.timer">default_profile.util.timer module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="jupyter.html">Jupyter Suite</a><ul>
<li class="toctree-l2"><a class="reference internal" href="jupyter.html#jupyter-qtconsole">Jupyter QTConsole</a></li>
<li class="toctree-l2"><a class="reference internal" href="jupyter.html#jupyter-notebook">Jupyter Notebook</a></li>
<li class="toctree-l2"><a class="reference internal" href="jupyter.html#image-handlers">Image Handlers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="extensions.html">Extensions</a></li>
</ul>



</div>


  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/lexer.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="startup/index.html" title="IPython’s Startup"
             >next</a> |</li>
        <li class="right" >
          <a href="dev.html" title="Developer’s Notes"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Dynamic IPython</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
      Last updated on Sep 21, 2019.
    </div>
  </body>
</html>